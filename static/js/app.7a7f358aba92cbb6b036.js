webpackJsonp([1],{"4H17":function(e,t){},"4HSm":function(e,t){},"6eA+":function(e,t){},"6kOQ":function(e,t){},"7xIN":function(e,t){},Ace3:function(e,t){},FcuD:function(e,t){},FxGe:function(e,t){},MGoc:function(e,t){},Mxp2:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};i.d(a,"timestampToTime",function(){return I}),i.d(a,"setStore",function(){return $}),i.d(a,"getStore",function(){return A}),i.d(a,"removeStore",function(){return j}),i.d(a,"setCookie",function(){return z}),i.d(a,"getCookie",function(){return C}),i.d(a,"delCookie",function(){return D}),i.d(a,"list_to_option",function(){return T}),i.d(a,"list_to_tree",function(){return E});var o=i("//Fk"),s=i.n(o),r=i("fZjL"),n=i.n(r),l=i("7+uW"),c=i("zL8q"),m=i.n(c),d=(i("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var u=i("VU/8")({name:"App"},d,!1,function(e){i("RW+O")},null,null).exports,p=i("/ocq"),_=i("mvHQ"),f=i.n(_),h=i("mtWM"),g=i.n(h),v=function(e,t){return g()({method:"post",url:e,headers:{Authorization:localStorage.getItem("logintoken")},data:t}).then(function(e){return e.data})},b=function(e,t){return g()({method:"put",url:e,headers:{Authorization:localStorage.getItem("logintoken")},data:t}).then(function(e){return e.data})},F=function(e,t){return g()({method:"get",url:e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("logintoken")},params:t,traditional:!0,transformRequest:[function(e){var t="";for(var i in e)t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i])+"&";return t}]}).then(function(e){return e.data})},y=function(e,t){return g()({method:"get",url:e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("logintoken")},params:t,traditional:!0,responseType:"blob",transformRequest:[function(e){var t="";for(var i in e)t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i])+"&";return t}]}).then(function(e){return e})},w=function(e,t){return g()({method:"delete",url:e,headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("logintoken")},params:t,traditional:!0,transformRequest:[function(e){var t="";for(var i in e)t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i])+"&";return t}]}).then(function(e){return e.data})},k=function(e){return function(e,t,i){return g()({method:e,url:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:i,traditional:!0,transformRequest:[function(e){var t="";for(var i in e)t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i])+"&";return t}]}).then(function(e){return e.data})}("post","/user/login",e)},x=i("woOf"),S=i.n(x),I=function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},$=function(e,t){e&&("string"!=typeof t&&(t=f()(t)),window.localStorage.setItem(e,t))},A=function(e){if(e)return window.localStorage.getItem(e)},j=function(e){e&&window.localStorage.removeItem(e)};function z(e,t,i){var a=new Date;a.setDate(a.getDate()+i),document.cookie=e+"="+t+";expires="+a}function C(e){var t=RegExp(e+"=([^;]+)"),i=document.cookie.match(t);return i?i[1]:""}function D(e){z(e,null,-1)}function T(e){for(var t=[],i=0;i<e.length;i++){var a=e[i];t.push({label:a.module_name,value:a.id})}return t}function E(e){for(var t={},i=0;i<e.length;i++){var a=e[i];a.parent_id=a.parent_id?a.parent_id:0,t[a.id]?S()(t[a.id],{id:a.id,module_name:a.module_name,module_description:a.module_description,parent_id:a.parent_id}):t[a.id]={id:a.id,module_name:a.module_name,module_description:a.module_description,parent_id:a.parent_id,children:[]},t[a.parent_id]?t[a.parent_id].children.push(t[a.id]):t[a.parent_id]={children:[t[a.id]]}}return t[0].children}var V=i("NC6I"),P=i.n(V),q={name:"login",data:function(){return{logining:!1,rememberpwd:!1,ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){window.addEventListener("keydown",this.keyDown)},created:function(){this.getuserpwd()},methods:{getuserpwd:function(){""!==C("user")&&""!==C("pwd")&&(this.ruleForm.username=C("user"),this.ruleForm.password=C("pwd"),this.rememberpwd=!0)},keyDown:function(e){13===e.keyCode&&this.submitForm("ruleForm")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("请输入用户名密码！"),t.logining=!1,!1;t.logining=!0;var i=t.ruleForm,a=i.password;i.password=P()(i.password),k(i).then(function(e){if(!e.success)return t.$message.error(e.msg),t.logining=!1,!1;t.rememberpwd?(z("user",t.ruleForm.username,7),z("pwd",a,7)):(D("user"),D("pwd")),setTimeout(function(){t.logining=!1,localStorage.setItem("logintoken",e.data.token),localStorage.setItem("userdata",f()(e.data)),(localStorage.getItem("logintoken"),F("/user/menu")).then(function(e){if(!e.success)return t.$message.error(e.msg),!1;localStorage.setItem("menu",f()(e.data)),console.log(JSON.parse(localStorage.getItem("menu"))),t.$router.push({path:JSON.parse(localStorage.getItem("menu"))[0].menus[0].url})}).catch(function(e){t.$message.error("菜单加载失败，请稍后再试！")}),t.$store.commit("login","true")},1e3)})})}},destroyed:function(){window.removeEventListener("keydown",this.keyDown,!1)}},N={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-wrap"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm login-container",attrs:{"label-position":"left",model:e.ruleForm,rules:e.rules,"label-width":"0px"}},[i("h3",{staticClass:"title"},[e._v("用户登录")]),e._v(" "),i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),i("el-checkbox",{staticClass:"remember",model:{value:e.rememberpwd,callback:function(t){e.rememberpwd=t},expression:"rememberpwd"}},[e._v("记住密码")]),e._v(" "),i("el-form-item",{staticStyle:{width:"100%"}},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var R=i("VU/8")(q,N,!1,function(e){i("Mxp2")},"data-v-ee2905bc",null).exports,M={name:"navcon",data:function(){return{collapsed:!0,imgshow:i("gQKk"),imgsq:i("rWRm"),drawer:!1,listData:"",dot:!1,user:{},notifyPromise:s.a.resolve()}},created:function(){var e=this;this.user=JSON.parse(localStorage.getItem("userdata")),this.openDrawer(!1),this.pushMessage(),setInterval(function(){Boolean(localStorage.getItem("userInfo"))&&setTimeout(function(){e.pushMessage()},0)},3e5)},methods:{toModifyPwd:function(e){this.$router.push({path:"/system/modifyPwd"})},exit:function(){var e=this;this.$confirm("退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){F("/user/logout").then(function(t){if(!t.success)return e.$message.error(t.msg),e.logining=!1,!1;setTimeout(function(){e.$store.commit("logout","false"),e.$router.push({path:"/login"}),localStorage.removeItem("userInfo"),localStorage.removeItem("logintoken"),localStorage.removeItem("userdata"),localStorage.removeItem("menu"),e.$message({type:"success",message:"已退出登录!"})},1e3)}).catch(function(t){e.logining=!1,e.$message.error("退出失败，请稍后再试！")})}).catch(function(){e.$message({type:"info",message:"已取消"})})},toggle:function(e){this.collapsed=!e,this.$root.Bus.$emit("toggle",this.collapsed)},openDrawer:function(e){var t,i=this;this.drawer=e,F("/message/getMessage",t).then(function(e){!1===e.success?i.$message({type:"info",message:e.msg}):(i.listData=e.data,i.dot=e.unread_count>0)})},handleClose:function(){var e,t=this;F("/message/clearUnreadMessage",e).then(function(e){!1===e.success?t.$message({type:"info",message:e.msg}):t.dot=!1})},pushMessage:function(){var e,t=this;F("/message/pushMessage",e).then(function(e){e.forEach(function(e){t.notifyPromise=t.notifyPromise.then(function(){t.$notify({title:e.title,message:e.content,duration:0})})})}).catch(function(e){console.log(e)})}}},O={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","background-color":"#334157","text-color":"#fff","active-text-color":"#fff"}},[i("el-button",{staticClass:"buttonimg"},[i("img",{staticClass:"showimg",attrs:{src:e.collapsed?e.imgsq:e.imgshow},on:{click:function(t){return e.toggle(e.collapsed)}}})]),e._v(" "),i("div",{staticStyle:{float:"right"}},[i("div",{staticStyle:{display:"inline"}},[i("el-badge",{staticStyle:{"margin-top":"9px","margin-right":"9px",border:"none"},attrs:{"is-dot":e.dot}},[i("el-button",{staticStyle:{border:"none","font-size":"17px"},attrs:{index:"2",icon:"el-icon-bell",circle:"",type:"primary"},on:{click:function(t){return e.openDrawer(!0)}}})],1)],1),e._v(" "),i("el-submenu",{staticClass:"submenu",attrs:{index:"3"}},[i("template",{slot:"title"},[e._v(e._s(e.user.nickname))]),e._v(" "),i("el-menu-item",{attrs:{index:"2-2"},on:{click:e.toModifyPwd}},[e._v("修改密碼")]),e._v(" "),i("el-menu-item",{attrs:{index:"2-3"},on:{click:function(t){return e.exit()}}},[e._v("退出")])],2)],1),e._v(" "),i("el-drawer",{attrs:{title:"消息",visible:e.drawer,direction:"rtl"},on:{"update:visible":function(t){e.drawer=t},closed:e.handleClose}},[i("el-timeline",{staticStyle:{width:"90%"}},e._l(e.listData,function(t){return i("el-timeline-item",{attrs:{placement:"top",timestamp:t.create_time}},[i("el-badge",{staticStyle:{display:"block"},attrs:{"is-dot":0===t.is_read}},[i("el-card",[i("h4",[e._v(e._s(t.title))]),e._v(" "),i("p",[e._v(e._s(t.content))])])],1)],1)}),1)],1)],1)},staticRenderFns:[]};var B={projectName:"leftnav",data:function(){return{collapsed:!1,allmenu:[]}},created:function(){var e=this;this.allmenu=JSON.parse(localStorage.getItem("menu")),this.$root.Bus.$on("toggle",function(t){e.collapsed=!t})}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2",collapse:e.collapsed,"collapse-transition":"",router:"","default-active":e.$route.path,"unique-opened":"","background-color":"#334157","text-color":"#fff","active-text-color":"#ffd04b"}},[a("div",{staticClass:"logobox"},[a("img",{staticClass:"logoimg",attrs:{src:i("dLd/"),alt:""}})]),e._v(" "),e._l(e.allmenu,function(t){return a("el-submenu",{key:t.menuid,attrs:{index:t.menuname}},[a("template",{slot:"title"},[a("i",{class:t.icon}),e._v(" "),a("span",[e._v(e._s(t.menuname))])]),e._v(" "),a("el-menu-item-group",e._l(t.menus,function(t){return a("el-menu-item",{key:t.menuid,attrs:{index:"/"+t.url}},[a("span",[e._v(e._s(t.menuname))])])}),1)],2)})],2)},staticRenderFns:[]};var L={name:"index",data:function(){return{showclass:"asideshow",showtype:!1}},components:{navcon:i("VU/8")(M,O,!1,function(e){i("cVDj"),i("FxGe")},"data-v-287879fe",null).exports,leftnav:i("VU/8")(B,U,!1,function(e){i("xgXz")},null,null).exports},methods:{},created:function(){var e=this;this.$root.Bus.$on("toggle",function(t){t?e.showclass="asideshow":setTimeout(function(){e.showclass="aside"},300)})},beforeUpdate:function(){},beforeMount:function(){}},J={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{staticClass:"index-con"},[i("el-aside",{class:e.showclass},[i("leftnav")],1),e._v(" "),i("el-container",{staticClass:"main-con"},[i("el-header",{staticClass:"index-header"},[i("navcon")],1),e._v(" "),i("el-main",{attrs:{clss:"index-main"}},[i("keep-alive",[e.$route.meta.keepAlive?i("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():i("router-view")],1)],1)],1)},staticRenderFns:[]};var H=i("VU/8")(L,J,!1,function(e){i("6eA+")},null,null).exports,G={render:function(){var e=this.$createElement;return(this._self._c||e)("el-pagination",{staticClass:"page-box",attrs:{background:"","current-page":this.childMsg.currentPage,"page-sizes":[10,20,30,40],"page-size":this.childMsg.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.childMsg.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})},staticRenderFns:[]};var K=i("VU/8")({name:"Pagination",props:["childMsg"],data:function(){return{pageparm:{currentPage:this.childMsg.currentPage,pageSize:this.childMsg.pageSize}}},created:function(){},methods:{handleSizeChange:function(e){this.pageparm.pageSize=e,this.$emit("callFather",this.pageparm)},handleCurrentChange:function(e){this.pageparm.currentPage=e,this.$emit("callFather",this.pageparm)}}},G,!1,function(e){i("MGoc")},null,null).exports,Y={data:function(){return{nshow:!0,fshow:!1,loading:!1,title:"添加用户",editFormVisible:!1,projectPermissionVisible:!1,current_user_id:"",projectPermissionSelection:"",editForm:{id:"",username:"",nickname:"",role_code:"",phone:"",email:"",token:localStorage.getItem("logintoken")},role_option:"",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],nickname:[{required:!0,message:"请输入姓名",trigger:"blur"}],role_code:[{required:!0,message:"请选择角色",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1(3\d|47|5((?!4)\d)|7(0|1|[6-8])|8\d)\d{8,8}$/,required:!0,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,required:!0,message:"请输入正确的邮箱",trigger:"blur"}]},formInline:{page:1,limit:10,nickname:"",isLock:""},userData:[],projectPermissionData:[],pageparm:{currentPage:1,pageSize:10,total:10}}},components:{Pagination:K},watch:{},created:function(){this.getdata(this.formInline),this.getRoleCode()},methods:{getdata:function(e){var t,i=this;this.loading=!0,this.pageparm.currentPage=this.formInline.page,this.pageparm.pageSize=this.formInline.limit,e={currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,nickname:this.formInline.nickname},(t=e,F("/user/userList",t)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.userData=e.data,i.pageparm.currentPage=i.formInline.page,i.pageparm.pageSize=i.formInline.limit,i.pageparm.total=e.count)})},callFather:function(e){this.formInline.page=e.currentPage,this.formInline.limit=e.pageSize,this.getdata(this.formInline)},search:function(){this.getdata(this.formInline)},getRoleCode:function(){var e,t=this;F("/user/getRoleCode",e).then(function(e){t.role_option=e.data})},closeDialog:function(){this.editFormVisible=!1,this.projectPermissionVisible=!1},editStatus:function(e,t){var i=this;this.loading=!0;var a={status:"",id:""};a.id=t.id;var o,s=t.status;a.status=2===s?"1":"2",(o=a,b("/user/changeUserStatus",o)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.$message({type:"success",message:"状态修改成功"}),i.getdata(i.formInline))})},handleEdit:function(e,t){this.editFormVisible=!0,void 0!==t&&"undefined"!==t?(this.title="修改用户",this.editForm.id=t.id,this.editForm.username=t.username,this.editForm.nickname=t.nickname,this.editForm.role_code=t.role,this.editForm.phone=t.phone,this.editForm.email=t.email):(this.title="添加用户",this.editForm.id="",this.editForm.username="",this.editForm.nickname="",this.editForm.role_code="",this.editForm.phone="",this.editForm.email="")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(""===t.editForm.id){var i=t.editForm;delete i.id,(a=i,v("/user/saveUser",a)).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:"保存成功！"})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("保存失败，请稍后再试！")})}else{(function(e){return b("/user/saveUser",e)})(t.editForm).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:"保存成功！"})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("保存失败，请稍后再试！")})}var a})},deleteUser:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,w("/user/deleteUser",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){i.loading=!1,i.$message.error("数据删除失败，请稍后再试！")})}).catch(function(){i.$message({type:"info",message:"已取消删除！"})})},getProjectPermissionList:function(e,t){var i=this;this.projectPermissionVisible=!0,this.current_user_id=t.id;var a,o={id:this.current_user_id};(a=o,F("/user/projectPermissionsList",a)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.projectPermissionData=e.data,i.toggleSelection())}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("数据获取失败")})},toggleSelection:function(){var e=this;this.$nextTick(function(){e.projectPermissionData.forEach(function(t){null!=t.user_id&&e.$refs.projectPermissionTable.toggleRowSelection(t,!0)})})},handleSelectChange:function(e){this.projectPermissionSelection=e},projectPermissionsSave:function(){var e=this;this.projectPermissionSelection.forEach(function(e){delete e.user_id});var t,i={id:this.current_user_id,list:this.projectPermissionSelection};(t=i,v("/user/projectPermissionsSave",t)).then(function(t){e.loading=!1,!1===t.success?e.$message({type:"info",message:t.msg}):(e.projectPermissionVisible=!1,e.$message({type:"success",message:"保存成功！"}))}).catch(function(t){e.loading=!1,console.log(t),e.$message.error("保存失败")})},resetpwd:function(e,t){var i=this;this.$confirm("确定要重置密码吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,b("/user/resetPwd",e)).then(function(e){e.success?(i.$message({type:"success",message:"重置密码成功！"}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){i.loading=!1,i.$message.error("重置密码失败，请稍后再试！")})}).catch(function(){i.$message({type:"info",message:"取消重置密码！"})})}}},W={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("用户管理")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"搜索："}}),e._v(" "),i("el-form-item",{attrs:{label:""}},[i("el-input",{attrs:{size:"small",placeholder:"输入姓名"},model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname",t)},expression:"formInline.nickname"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit()}}},[e._v("添加")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.userData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"username",label:"用户名",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"nickname",label:"姓名",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"phone",label:"手机号",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"email",label:"邮箱","min-width":"120"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"status",label:"状态","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(i){return e.editStatus(t.$index,t.row)}},model:{value:"1"==t.row.status?e.nshow:e.fshow,callback:function(i){e.$set(t.row,"status=='1'?nshow:fshow",i)},expression:"scope.row.status=='1'?nshow:fshow"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),"dev_role"===t.row.role?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.getProjectPermissionList(t.$index,t.row)}}},[e._v("权限配置")]):e._e(),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.resetpwd(t.$index,t.row)}}},[e._v("重置密码")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.deleteUser(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}}),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.editFormVisible,width:"30%"},on:{"update:visible":function(t){e.editFormVisible=t},click:function(t){return e.closeDialog()}}},[i("el-form",{ref:"editForm",attrs:{"label-width":"80px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入用户名"},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"姓名",prop:"nickname"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入姓名"},model:{value:e.editForm.nickname,callback:function(t){e.$set(e.editForm,"nickname",t)},expression:"editForm.nickname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"角色",prop:"role_code"}},[i("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.editForm.role_code,callback:function(t){e.$set(e.editForm,"role_code",t)},expression:"editForm.role_code"}},e._l(e.role_option,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号",prop:"userMobile"}},[i("el-input",{attrs:{size:"small",placeholder:"请输入手机号"},model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"userEmail"}},[i("el-input",{attrs:{size:"small",placeholder:"请输入邮箱地址"},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){return e.closeDialog()}}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保存")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"权限配置",visible:e.projectPermissionVisible,width:"30%"},on:{"update:visible":function(t){e.projectPermissionVisible=t},click:function(t){return e.closeDialog()}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"projectPermissionTable",staticStyle:{width:"100%"},attrs:{size:"small",data:e.projectPermissionData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"},on:{"selection-change":function(t){e.handleSelectChange(t)}}},[i("el-table-column",{attrs:{align:"center",type:"selection",width:"50"}}),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"projectName",label:"项目名称"}})],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.projectPermissionsSave()}}},[e._v("保存")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){return e.closeDialog()}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Z=i("VU/8")(Y,W,!1,function(e){i("h/rD")},"data-v-2a9cd766",null).exports,Q={data:function(){return{editForm:{id:"",old_password:"",new_password:"",confirm_password:""},rules:{old_password:[{required:!0,message:"请输入原密码",trigger:"blur"}],new_password:[{required:!0,message:"请输入新密码",trigger:"blur"}],confirm_password:[{required:!0,message:"请输入确认密码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var i,a={old_password:P()(t.editForm.old_password),new_password:P()(t.editForm.new_password),confirm_password:P()(t.editForm.confirm_password)};(i=a,v("/user/modifyPwd",i)).then(function(e){e.success?(t.$message({type:"success",message:e.msg}),t.editForm.old_password="",t.editForm.new_password="",t.editForm.confirm_password=""):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("密码修改失败，请稍后再试！")})})}}},X={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("修改密码")])],1),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-form",{ref:"editForm",attrs:{"label-width":"120px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{prop:"old_password",label:"原密码"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"原密码"},model:{value:e.editForm.old_password,callback:function(t){e.$set(e.editForm,"old_password",t)},expression:"editForm.old_password"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"new_password",label:"新密码"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"新密码"},model:{value:e.editForm.new_password,callback:function(t){e.$set(e.editForm,"new_password",t)},expression:"editForm.new_password"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"confirm_password",label:"确认密码"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码"},model:{value:e.editForm.confirm_password,callback:function(t){e.$set(e.editForm,"confirm_password",t)},expression:"editForm.confirm_password"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var ee=i("VU/8")(Q,X,!1,function(e){i("6kOQ")},"data-v-0c6a8d8e",null).exports,te=function(e){return F("/project/getAllProject",e)},ie=function(e){return F("/project/projectModuleList",e)},ae=function(e){return F("/project/getAllProjectEnvironment",e)},oe={data:function(){return{nshow:!0,fshow:!1,loading:!1,editFormVisible:!1,title:"添加",editForm:{id:"",projectName:"",projectDescription:""},rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],projectDescription:[{required:!0,message:"请输入项目描述",trigger:"blur"}]},formInline:{page:1,limit:10,varLable:"",varName:"",projectName:"",token:localStorage.getItem("logintoken")},seletedata:{ids:"",token:localStorage.getItem("logintoken")},userparm:[],listData:[],pageparm:{currentPage:1,pageSize:10,oldPageSize:10,total:10}}},components:{Pagination:K},created:function(){this.getdata(this.formInline)},methods:{getdata:function(e){var t,i=this;this.loading=!0,this.pageparm.currentPage=this.formInline.page,this.pageparm.pageSize=this.formInline.limit,e={currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,projectName:this.formInline.projectName},(t=e,F("/project/projectList",t)).then(function(e){i.loading=!1,0==e.success?i.$message({type:"info",message:e.msg}):(i.listData=e.data,i.pageparm.total=e.count)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("菜单加载失败，请稍后再试！")})},callFather:function(e){this.pageparm.pageSize!==e.pageSize?(this.formInline.page=1,this.formInline.limit=e.pageSize,this.getdata(this.formInline)):(this.formInline.page=e.currentPage,this.formInline.limit=e.pageSize,this.getdata(this.formInline))},search:function(){this.formInline.page=1,this.getdata(this.formInline)},closeDialog:function(){this.editFormVisible=!1},handleEdit:function(e,t){this.editFormVisible=!0,void 0!=t&&"undefined"!=t?(this.title="修改",this.editForm.id=t.id,this.editForm.projectName=t.projectName,this.editForm.projectDescription=t.projectDescription):(this.title="添加",this.editForm.id="",this.editForm.projectName="",this.editForm.projectDescription="")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(""===t.editForm.id){var i=t.editForm;delete i.id,(a=i,v("/project/saveProject",a)).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("项目保存失败，请稍后再试！")})}else{(function(e){return b("/project/saveProject",e)})(t.editForm).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("项目保存失败，请稍后再试！")})}var a})},projectDelete:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,w("/project/deleteProject",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){i.loading=!1,i.$message.error("项目删除失败，请稍后再试！")})}).catch(function(e){console.log(e)})},closeDialog1:function(){this.editFormVisible=!1}}},se={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("项目管理")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"搜索："}},[i("el-input",{attrs:{size:"small",placeholder:"输入项目名称"},model:{value:e.formInline.projectName,callback:function(t){e.$set(e.formInline,"projectName",t)},expression:"formInline.projectName"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit()}}},[e._v("添加")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"projectName",label:"项目名称",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"projectDescription",label:"项目描述",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"create_time",label:"创建时间",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作","min-width":"300",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.projectDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}}),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.editFormVisible,width:"30%"},on:{"update:visible":function(t){e.editFormVisible=t},click:e.closeDialog}},[i("el-form",{ref:"editForm",attrs:{"label-width":"120px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入项目名称"},model:{value:e.editForm.projectName,callback:function(t){e.$set(e.editForm,"projectName",t)},expression:"editForm.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"项目描述",prop:"projectDescription"}},[i("el-input",{attrs:{type:"textarea",size:"small","auto-complete":"off",placeholder:"请输入项目描述"},model:{value:e.editForm.projectDescription,callback:function(t){e.$set(e.editForm,"projectDescription",t)},expression:"editForm.projectDescription"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var re=i("VU/8")(oe,se,!1,function(e){i("zmAB")},"data-v-7de213c5",null).exports,ne={data:function(){return{nshow:!0,fshow:!1,loading:!1,editFormVisible:!1,title:"添加",disabled:!1,editForm:{id:"",p_name:"",e_name:"",url:"",e_description:""},rules:{p_name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],e_name:[{required:!0,message:"请输入环境名称",trigger:"blur"}],url:[{required:!0,message:"请输入url",trigger:"blur"}],e_description:[{required:!0,message:"请输入项目描述",trigger:"blur"}]},projects:"",state:"",formInline:{page:1,limit:10,varLable:"",varName:"",projectName:"",token:localStorage.getItem("logintoken")},seletedata:{ids:"",token:localStorage.getItem("logintoken")},userparm:[],listData:[],pageparm:{currentPage:1,pageSize:10,oldPageSize:10,total:10}}},components:{Pagination:K},created:function(){this.getdata(this.formInline),this.loadAllProject()},methods:{getdata:function(e){var t,i=this;this.loading=!0,this.pageparm.currentPage=this.formInline.page,this.pageparm.pageSize=this.formInline.limit,e={currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,projectName:this.formInline.projectName},(t=e,F("/project/projectEnvironmentList",t)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.listData=e.data,i.pageparm.total=e.count)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("菜单加载失败，请稍后再试！")})},callFather:function(e){this.pageparm.pageSize!==e.pageSize?(this.formInline.page=1,this.formInline.limit=e.pageSize,this.getdata(this.formInline)):(this.formInline.page=e.currentPage,this.formInline.limit=e.pageSize,this.getdata(this.formInline))},search:function(){this.formInline.page=1,this.getdata(this.formInline)},handleEdit:function(e,t){this.editFormVisible=!0,void 0!=t&&"undefined"!=t?(this.title="修改",this.disabled=!0,this.editForm.id=t.id,this.editForm.p_name=t.projectName,this.editForm.e_name=t.e_name,this.editForm.url=t.url,this.editForm.e_description=t.e_description):(this.title="添加",this.disabled=!1,this.editForm.id="",this.editForm.p_name="",this.editForm.e_name="",this.editForm.url="",this.editForm.e_description="")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(""===t.editForm.id){var i=t.editForm;delete i.id,(a=i,v("/project/saveProjectEnvironment",a)).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("项目保存失败，请稍后再试！")})}else{(function(e){return b("/project/saveProjectEnvironment",e)})(t.editForm).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("项目保存失败，请稍后再试！")})}var a})},projectEnvironmentDelete:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,w("/project/deleteProjectEnvironment",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){i.loading=!1,i.$message.error("项目删除失败，请稍后再试！")})}).catch(function(e){console.log(e)})},closeDialog:function(){this.editFormVisible=!1},loadAllProject:function(){var e=this;te().then(function(t){e.projects=t})},querySearchAsync:function(e,t){var i=this.projects;t(e?i.filter(this.createStateFilter(e)):i)},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e)},copy:function(e,t){var i=this;this.$confirm("确定要复制吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,F("/project/copyEnvironment",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){console.log(e),i.loading=!1,i.$message.error("复制失败，请稍后再试！")})}).catch(function(e){console.log(e)})}}},le={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("项目环境配置")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"项目名称："}},[i("el-autocomplete",{attrs:{size:"small",placeholder:"输入项目名称","fetch-suggestions":e.querySearchAsync},on:{select:e.handleSelect},model:{value:e.formInline.projectName,callback:function(t){e.$set(e.formInline,"projectName",t)},expression:"formInline.projectName"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit()}}},[e._v("添加")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"projectName",label:"项目名称",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"e_name",label:"环境名称",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"url",label:"url",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"e_description",label:"环境描述",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"create_time",label:"创建时间",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作","min-width":"300",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.copy(t.$index,t.row)}}},[e._v("复制")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.projectEnvironmentDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}}),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.editFormVisible,width:"30%"},on:{"update:visible":function(t){e.editFormVisible=t},click:e.closeDialog}},[i("el-form",{ref:"editForm",attrs:{"label-width":"120px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[i("el-autocomplete",{attrs:{size:"small","fetch-suggestions":e.querySearchAsync,placeholder:"请输入项目名称",disabled:e.disabled},on:{select:e.handleSelect},model:{value:e.editForm.p_name,callback:function(t){e.$set(e.editForm,"p_name",t)},expression:"editForm.p_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"环境名称",prop:"e_name"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入环境名称"},model:{value:e.editForm.e_name,callback:function(t){e.$set(e.editForm,"e_name",t)},expression:"editForm.e_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"url",prop:"url"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入url"},model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"环境描述",prop:"e_description"}},[i("el-input",{attrs:{type:"textarea",size:"small","auto-complete":"off",placeholder:"请输入环境描述"},model:{value:e.editForm.e_description,callback:function(t){e.$set(e.editForm,"e_description",t)},expression:"editForm.e_description"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var ce=i("VU/8")(ne,le,!1,function(e){i("vPiW")},"data-v-0beae61c",null).exports,me={data:function(){return{formInline:{varLable:"",varName:"",projectName:"",projectEnvironment_id:"",projectEnvironment_name:""},rules:{m_name:[{required:!0,message:"请输入模塊名称",trigger:"blur"}],m_description:[{required:!0,message:"请输入模塊描述",trigger:"blur"}]},editForm:{id:"",e_id:"",e_name:"",parent_id:"",m_name:"",m_description:""},addForm:{e_id:"",e_name:"",parent_id:"",m_name:"",m_description:""},e_options:"",e_value:"",p_options1:"",p_value1:"",p_options2:"",p_value2:"",addFormVisible:!1,projects:"",filterText:"",originData:[],listData:[],defaultProps:{children:"children",label:"module_name"}}},created:function(){this.loadAllProject()},watch:{filterText:function(e){this.$refs.tree.filter(e)}},methods:{getdata:function(e){var t=this;e={projectEnvironment_id:this.formInline.projectEnvironment_id},ie(e).then(function(e){!1===e.success?t.$message({type:"info",message:e.msg}):(t.originData=e.data,t.originData.length>0?(t.p_options1=T(t.originData),t.p_options2=t.p_options1,t.listData=E(t.originData)):(t.p_options1="",t.p_options2="",t.listData=[]),t.editForm.e_id=t.formInline.projectEnvironment_id)}).catch(function(e){t.loading=!1,console.log(e),t.$message.error("菜单加载失败，请稍后再试！")})},search:function(){this.getdata(this.formInline)},filterNode:function(e,t){return!e||-1!==t.module_name.indexOf(e)},handleNodeClick:function(e){this.editForm.id=e.id,this.editForm.parent_id=e.parent_id,this.p_value1=0!==e.parent_id?e.parent_id:"",this.p_value2=0!==e.id?e.id:"",this.editForm.m_name=e.module_name,this.editForm.m_description=e.module_description},loadAllProject:function(){var e=this;te().then(function(t){e.projects=t})},querySearchAsync:function(e,t){var i=this.projects;t(e?i.filter(this.createStateFilter(e)):i)},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.loadAllProjectEnvironment(e)},loadAllProjectEnvironment:function(e){var t=this,i={name:e.value};ae(i).then(function(e){t.e_options=e})},handleChange:function(e){this.formInline.projectEnvironment_id=e;var t;void 0!==(t=this.e_options.find(function(t){return t.value===e}))&&(this.formInline.projectEnvironment_name=t.label),this.getdata(this.formInline)},p_handleChange1:function(e){this.editForm.parent_id=e},p_handleChange2:function(e){this.addForm.parent_id=e},inputChange:function(){this.formInline.projectEnvironment_id="",this.formInline.projectEnvironment_name="",this.e_options="",this.e_value=""},list_to_option:function(e){for(var t=[],i=0;i<e.length;i++){var a=e[i];t.push({label:a.module_name,value:a.id})}return t},saveModule:function(e){var t=this;this.$refs[e].validate(function(i){if(!i)return!1;var a,o=void 0;"addForm"===e?(o=t.addForm,(a=o,v("/project/saveProjectModule",a)).then(function(e){t.addFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("模块保存失败，请稍后再试！")})):"editForm"===e&&function(e){return b("/project/saveProjectModule",e)}(o=t.editForm).then(function(e){t.addFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("模块保存失败，请稍后再试！")})})},handleAdd:function(){this.addFormVisible=!0,this.addForm.e_id=this.formInline.projectEnvironment_id,this.addForm.m_name="",this.addForm.m_description="",this.addForm.parent_id=this.p_value2},closeDialog:function(){this.addFormVisible=!1},projectModuleDelete:function(){var e=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t,i={id:e.editForm.id};(t=i,w("/project/deleteProjectModule",t)).then(function(t){t.success?(e.$message({type:"success",message:t.msg}),e.getdata(e.formInline),e.editForm.id="",e.editForm.parent_id="",e.editForm.m_name="",e.editForm.m_description=""):e.$message({type:"info",message:t.msg})}).catch(function(t){console.log(t),e.loading=!1,e.$message.error("模块删除失败，请稍后再试！")})}).catch(function(e){console.log(e)})}}},de={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("模块管理")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"项目名称："}},[i("el-autocomplete",{attrs:{size:"small",placeholder:"输入项目名称","fetch-suggestions":e.querySearchAsync},on:{select:e.handleSelect,input:e.inputChange},model:{value:e.formInline.projectName,callback:function(t){e.$set(e.formInline,"projectName",t)},expression:"formInline.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"项目环境名称："}},[i("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.e_value,callback:function(t){e.e_value=t},expression:"e_value"}},e._l(e.e_options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:4}},[i("el-card",{staticClass:"box-card;"},[i("el-scrollbar",{staticStyle:{height:"700px","overflow-wrap":"break-word"},attrs:{"wrap-style":"overflow-x:auto;"}},[i("el-input",{attrs:{size:"small",placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.listData,props:e.defaultProps,"node-key":"id","default-expand-all":"","highlight-current":!0,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:20}},[i("el-card",{staticClass:"box-card;"},[i("div",{staticClass:"mod-btnbox"},[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("添加")])],1),e._v(" "),i("el-form",{ref:"editForm",attrs:{"label-width":"120px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"父模块",prop:"parent_m_name"}},[i("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择"},on:{change:e.p_handleChange1},model:{value:e.p_value1,callback:function(t){e.p_value1=t},expression:"p_value1"}},e._l(e.p_options1,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"模块名称",prop:"m_name"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入模块名称"},model:{value:e.editForm.m_name,callback:function(t){e.$set(e.editForm,"m_name",t)},expression:"editForm.m_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模块描述",prop:"m_description"}},[i("el-input",{attrs:{type:"textarea",size:"small","auto-complete":"off",placeholder:"请输入模块描述"},model:{value:e.editForm.m_description,callback:function(t){e.$set(e.editForm,"m_description",t)},expression:"editForm.m_description"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.saveModule("editForm")}}},[e._v("保存")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.projectModuleDelete}},[e._v("删除")])],1)],1)],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"添加",visible:e.addFormVisible,width:"30%"},on:{"update:visible":function(t){e.addFormVisible=t},click:e.closeDialog}},[i("el-form",{ref:"addForm",attrs:{"label-width":"120px",model:e.addForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"父模块",prop:"parent_m_name"}},[i("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择"},on:{change:e.p_handleChange2},model:{value:e.p_value2,callback:function(t){e.p_value2=t},expression:"p_value2"}},e._l(e.p_options2,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"模块名称",prop:"m_name"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入模块名称"},model:{value:e.addForm.m_name,callback:function(t){e.$set(e.addForm,"m_name",t)},expression:"addForm.m_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模块描述",prop:"m_description"}},[i("el-input",{attrs:{type:"textarea",size:"small","auto-complete":"off",placeholder:"请输入模块描述"},model:{value:e.addForm.m_description,callback:function(t){e.$set(e.addForm,"m_description",t)},expression:"addForm.m_description"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.saveModule("addForm")}}},[e._v("保存")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.closeDialog}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var ue=i("VU/8")(me,de,!1,function(e){i("FcuD")},"data-v-23617ecd",null).exports,pe=i("krB6"),_e={data:function(){return{nshow:!0,fshow:!1,loading:!1,editFormVisible:!1,title:"添加",disabled:!1,reason_option:"",user_role:"",editFormControl:{projectName_disabled:!1,submitted_test_name_disabled:!1,submitted_date_disabled:!1,test_date_disabled:!1,online_date_disabled:!1,submitted_test_director_disabled:!1,fix_bug_director_disabled:!1,test_director_disabled:!1,self_test_report_url_disabled:!1,test_url_disabled:!1,test_scope_disabled:!1,influence_scope_disabled:!1,points_for_attention_disabled:!1,config_url_disabled:!1,script_url_disabled:!1,compatibility_desc_disabled:!1,test_status_show:!1,smoke_testing_result_show:!1,test_result_show:!1,submit_show:!1,upload_show:!1,upload_button_show:!0},editForm:{id:"",projectName:"",submitted_test_name:"",submitted_date:"",test_date:"",online_date:"",submitted_test_director_id:"",submitted_test_director:"",fix_bug_director_id:[],fix_bug_director:"",test_director_id:"",test_director:"",self_test_report_url:"",test_url:"",test_scope:"",influence_scope:"",points_for_attention:"",config_url:"",script_url:"",compatibility_desc:"",test_status:"",smoke_testing_result:"",smoke_testing_fail_reason:[],test_result:"",complete_date:"",file_name:""},user_options:"",fix_bug_director_label:[],copy_user_options:"",smokeTestFormVisible:!1,smokeTestForm:{id:"",smoke_testing_result:1,smoke_testing_fail_reason:[],complete_date:""},completeTestFormVisible:!1,rules:{projectName:[{required:!0,message:"请输入测试系统",trigger:"blur"}],submitted_test_name:[{required:!0,message:"请输入提测名称",trigger:"blur"}],submitted_date:[{required:!0,message:"请选择申请日期",trigger:"change"}],test_date:[{required:!0,message:"请选择提交测试日期",trigger:"change"}],submitted_test_director:[{required:!0,message:"请选择提测负责人",trigger:"blur"}],fix_bug_director:[{required:!0,message:"请选择缺陷修复处理人员",trigger:"blur"}],smoke_testing_result:[{required:!0,message:"请选择冒烟测试结果",trigger:"blur"}],smoke_testing_fail_reason:[{required:!0,message:"请选择不通过原因",trigger:"blur"}],complete_date:[{required:!0,message:"请选择完成时间",trigger:"blur"}]},projects:"",state:"",formInline:{page:1,limit:10,projectName:"",date:""},smoke_testing_result_option:"",smoke_testing_result_value:"",test_result_option:"",test_result_value:"",test_status_option:"",test_status_value:"",listData:[],pageparm:{currentPage:1,pageSize:10,oldPageSize:10,total:10},uploadToken:{Authorization:localStorage.getItem("logintoken")}}},components:{Pagination:K},created:function(){this.user_role=JSON.parse(localStorage.getItem("userdata")).role,this.getdata(this.formInline),this.loadAllProject(),this.getReasonOption(),this.getSubmittedTestOptions(),this.getUserOptions()},methods:{getUserOptions:function(){var e,t=this;F("/user/getUserOptions",e).then(function(e){t.user_options=e.data,t.copy_user_options=e.data})},getdata:function(e){var t,i=this;this.loading=!0,this.pageparm.currentPage=this.formInline.page,this.pageparm.pageSize=this.formInline.limit,e=void 0===this.formInline.date||null===this.formInline.date?{currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,projectName:this.formInline.projectName,test_status:this.test_status_value,smoke_testing_result:this.smoke_testing_result_value,test_result:this.test_result_value,start_date:"",end_date:""}:{currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,projectName:this.formInline.projectName,test_status:this.test_status_value,smoke_testing_result:this.smoke_testing_result_value,test_result:this.test_result_value,start_date:this.formInline.date[0],end_date:this.formInline.date[1]},(t=e,F("/submittedTests/submittedTestsList",t)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.listData=e.data,i.pageparm.total=e.count)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("菜单加载失败，请稍后再试！")})},callFather:function(e){this.pageparm.pageSize!==e.pageSize?(this.formInline.page=1,this.formInline.limit=e.pageSize,this.getdata(this.formInline)):(this.formInline.page=e.currentPage,this.formInline.limit=e.pageSize,this.getdata(this.formInline))},getSubmittedTestOptions:function(){var e,t=this;F("/submittedTests/getSubmittedTestOptions",e).then(function(e){t.smoke_testing_result_option=e.data.smoke_testing_result_option,t.test_result_option=e.data.test_result_option,t.test_status_option=e.data.test_status_option})},getReasonOption:function(){var e,t=this;F("/submittedTests/getReasonOption",e).then(function(e){t.reason_option=e.data})},search:function(){this.formInline.page=1,this.getdata(this.formInline)},closeDialog:function(){this.editFormVisible=!1,this.smokeTestFormVisible=!1,this.completeTestFormVisible=!1,this.clearEditForm()},clearEditForm:function(){this.editForm.id="",this.editForm.projectName="",this.editForm.submitted_test_name="",this.editForm.submitted_date="",this.editForm.test_date="",this.editForm.online_date="",this.editForm.submitted_test_director_id="",this.editForm.submitted_test_director="",this.editForm.fix_bug_director_id="",this.editForm.fix_bug_director="",this.editForm.self_test_report_url="",this.editForm.test_url="",this.editForm.test_scope="",this.editForm.influence_scope="",this.editForm.points_for_attention="",this.editForm.config_url="",this.editForm.script_url="",this.editForm.compatibility_desc="",this.editForm.test_director_id="",this.editForm.test_director="",this.editForm.test_status="",this.editForm.smoke_testing_result="",this.editForm.smoke_testing_fail_reason=[],this.editForm.test_result="",this.editForm.file_name=""},loadAllProject:function(){var e=this;te().then(function(t){e.projects=t})},handleEdit:function(e,t,i){this.editFormVisible=!0,void 0===t||"undefined"===t?(this.title="添加",this.editFormControl.projectName_disabled=!1,this.editFormControl.submitted_test_name_disabled=!1,this.editFormControl.submitted_date_disabled=!1,this.editFormControl.test_date_disabled=!1,this.editFormControl.online_date_disabled=!1,this.editFormControl.submitted_test_director_disabled=!1,this.editFormControl.fix_bug_director_disabled=!1,this.editFormControl.self_test_report_url_disabled=!1,this.editFormControl.test_url_disabled=!1,this.editFormControl.test_scope_disabled=!1,this.editFormControl.influence_scope_disabled=!1,this.editFormControl.points_for_attention_disabled=!1,this.editFormControl.config_url_disabled=!1,this.editFormControl.script_url_disabled=!1,this.editFormControl.compatibility_desc_disabled=!1,this.editFormControl.test_director_disabled=!1,this.editFormControl.test_status_show=!1,this.editFormControl.smoke_testing_result_show=!1,this.editFormControl.test_result_show=!1,this.editFormControl.submit_show=!0,this.editFormControl.upload_show=!1,this.editFormControl.upload_button_show=!0,this.clearEditForm(),this.editForm.submitted_test_director=JSON.parse(localStorage.getItem("userdata")).nickname,this.$refs.upload.clearFiles()):"check"===i?(this.title="查看",this.editFormControl.projectName_disabled=!0,this.editFormControl.submitted_test_name_disabled=!0,this.editFormControl.submitted_date_disabled=!0,this.editFormControl.test_date_disabled=!0,this.editFormControl.online_date_disabled=!0,this.editFormControl.submitted_test_director_disabled=!0,this.editFormControl.fix_bug_director_disabled=!0,this.editFormControl.self_test_report_url_disabled=!0,this.editFormControl.test_url_disabled=!0,this.editFormControl.test_scope_disabled=!0,this.editFormControl.influence_scope_disabled=!0,this.editFormControl.points_for_attention_disabled=!0,this.editFormControl.config_url_disabled=!0,this.editFormControl.script_url_disabled=!0,this.editFormControl.compatibility_desc_disabled=!0,this.editFormControl.test_director_disabled=!0,this.editFormControl.test_status_show=!0,this.editFormControl.smoke_testing_result_show=!0,this.editFormControl.test_result_show=!0,this.editFormControl.submit_show=!1,this.editFormControl.upload_show=!0,this.editFormControl.upload_button_show=!1,this.editForm.id=t.id,this.editForm.projectName=t.projectName,this.editForm.submitted_test_name=t.submitted_test_name,this.editForm.submitted_date=t.submitted_date,this.editForm.test_date=t.test_date,this.editForm.online_date=t.online_date,this.editForm.submitted_test_director_id=t.submitted_test_director_id,this.editForm.submitted_test_director=t.submitted_test_director,this.editForm.fix_bug_director_id=t.fix_bug_director_id,this.editForm.fix_bug_director=t.fix_bug_director,this.editForm.self_test_report_url=t.self_test_report_url,this.editForm.test_url=t.test_url,this.editForm.test_scope=t.test_scope,this.editForm.influence_scope=t.influence_scope,this.editForm.points_for_attention=t.points_for_attention,this.editForm.config_url=t.config_url,this.editForm.script_url=t.script_url,this.editForm.compatibility_desc=t.compatibility_desc,this.editForm.test_director_id=t.test_director_id,this.editForm.test_director=t.test_director,this.editForm.test_status=t.test_status,this.editForm.smoke_testing_result=t.smoke_testing_result,this.editForm.smoke_testing_fail_reason=[t.smoke_testing_fail_reason_category,t.smoke_testing_fail_reason_detail],this.editForm.test_result=t.test_result,this.editForm.file_name=t.file_name):(this.title="编辑",this.editFormControl.projectName_disabled=!0,this.editFormControl.submitted_test_name_disabled=!1,this.editFormControl.submitted_date_disabled=!1,this.editFormControl.test_date_disabled=!1,this.editFormControl.online_date_disabled=!1,this.editFormControl.submitted_test_director_disabled=!1,this.editFormControl.fix_bug_director_disabled=!1,this.editFormControl.self_test_report_url_disabled=!1,this.editFormControl.test_url_disabled=!1,this.editFormControl.test_scope_disabled=!1,this.editFormControl.influence_scope_disabled=!1,this.editFormControl.points_for_attention_disabled=!1,this.editFormControl.config_url_disabled=!1,this.editFormControl.script_url_disabled=!1,this.editFormControl.compatibility_desc_disabled=!1,this.editFormControl.test_director_disabled=!1,this.editFormControl.test_status_show=!1,this.editFormControl.smoke_testing_result_show=!1,this.editFormControl.test_result_show=!1,this.editFormControl.submit_show=!0,this.editFormControl.upload_show=!1,this.editFormControl.upload_button_show=!0,this.editForm.id=t.id,this.editForm.projectName=t.projectName,this.editForm.submitted_test_name=t.submitted_test_name,this.editForm.submitted_date=t.submitted_date,this.editForm.test_date=t.test_date,this.editForm.online_date=t.online_date,this.editForm.submitted_test_director_id=t.submitted_test_director_id,this.editForm.submitted_test_director=t.submitted_test_director,this.editForm.fix_bug_director_id=t.fix_bug_director_id,this.editForm.fix_bug_director=t.fix_bug_director,this.fix_bug_director_label=t.fix_bug_director.split(","),this.editForm.self_test_report_url=t.self_test_report_url,this.editForm.test_url=t.test_url,this.editForm.test_scope=t.test_scope,this.editForm.influence_scope=t.influence_scope,this.editForm.points_for_attention=t.points_for_attention,this.editForm.config_url=t.config_url,this.editForm.script_url=t.script_url,this.editForm.compatibility_desc=t.compatibility_desc,this.editForm.test_director_id=t.test_director_id,this.editForm.test_director=t.test_director,this.editForm.test_status=t.test_status,this.editForm.smoke_testing_result=t.smoke_testing_result,this.editForm.smoke_testing_fail_reason=[t.smoke_testing_fail_reason_category,t.smoke_testing_fail_reason_detail],this.editForm.test_result=t.test_result,this.editForm.file_name=t.file_name)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(""===t.editForm.id){var i=t.editForm;delete i.id,(a=i,v("/submittedTests/saveSubmittedTest",a)).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.clearEditForm(),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("提测申请保存失败，请稍后再试！")})}else{(function(e){return b("/submittedTests/saveSubmittedTest",e)})(t.editForm).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.clearEditForm(),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("提测申请保存失败，请稍后再试！")})}var a})},uploadSuccess:function(e,t,i,a){""===this.editForm.file_name&&(this.editForm.file_name=[]),""===this.editForm.id?this.editForm.file_name.push({name:e.file_name,realname:e.real_file_name}):(this.editForm.file_name.push({name:e.file_name,realname:e.real_file_name}),this.getdata(this.formInline))},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},removeFile:function(e,t){var i,a=this,o={id:this.editForm.id,file:e.realname};(i=o,w("/submittedTests/deleteUploadFile",i)).then(function(t){t.success?(a.$message({type:"success",message:t.msg}),a.editForm.file_name.some(function(t,i){if(t.name===e.name)return a.editForm.file_name.splice(a.editForm.file_name.indexOf(i),1),!0}),a.getdata(a.formInline)):a.$message({type:"info",message:t.msg})}).catch(function(e){console.log(e),a.loading=!1,a.$message.error("移除文件失败，请稍后再试！")})},handlePreview:function(e,t){var i,a={file:e.realname};(i=a,y("/submittedTests/downloadFile",i)).then(function(t){var i=t.data,a=new Blob([i]);window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(a,e.name);var o=window.URL.createObjectURL(a),s=document.createElement("a");document.body.appendChild(s),s.href=o,s.download=decodeURI(e.name),s.click(),window.URL.revokeObjectURL(o)})},smokeTesting:function(e,t){this.smokeTestFormVisible=!0,this.smokeTestForm.id=t.id},submitSmokeTest:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var i;(i=t.smokeTestForm,b("/submittedTests/saveSmokeTestingResult",i)).then(function(e){t.smokeTestFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.smokeTestFormVisible=!1,t.loading=!1,t.$message.error("冒烟测试结果保存失败，请稍后再试！")})})},submitTestResult:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var i,a={id:t.editForm.id,test_result:t.editForm.test_result,complete_date:t.editForm.complete_date};(i=a,b("/submittedTests/saveTestResult",i)).then(function(e){t.completeTestFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.completeTestFormVisible=!1,t.loading=!1,t.$message.error("最终测试结果保存失败，请稍后再试！")})})},completeTesting:function(e,t){this.completeTestFormVisible=!0,this.editForm.id=t.id,this.editForm.test_result=1},submittedTestDelete:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,w("/submittedTests/deleteSubmittedTest",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){i.loading=!1,i.$message.error("提测申请失败，请稍后再试！")})}).catch(function(e){console.log(e)})},querySearchAsync:function(e,t){var i=this.projects;t(e?i.filter(this.createStateFilter(e)):i)},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e)},selectChange1:function(e){this.editForm.submitted_test_director=this.user_options.find(function(t){return t.value===e}).label},selectChange2:function(e){var t=this;this.fix_bug_director_label=[];for(var i=function(i){t.user_options.find(function(a){a.value===e[i]&&t.fix_bug_director_label.push(a.label)})},a=0;a<=e.length-1;a++)i(a);this.editForm.fix_bug_director=this.fix_bug_director_label.join(",")},selectChange3:function(e){this.editForm.test_director=this.user_options.find(function(t){return t.value===e}).label},pinyinMatch:function(e){if(e){var t=[];this.copy_user_options.forEach(function(i){pe.a.match(i.label,e)&&t.push(i)}),this.user_options=t}else this.user_options=this.copy_user_options},resetOptions:function(){this.user_options=this.copy_user_options}}},fe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("提测申请管理")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"项目名称："}},[i("el-autocomplete",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:"输入项目名称","fetch-suggestions":e.querySearchAsync},on:{select:e.handleSelect},model:{value:e.formInline.projectName,callback:function(t){e.$set(e.formInline,"projectName",t)},expression:"formInline.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"测试状态："}},[i("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",clearable:"",placeholder:"请选择"},model:{value:e.test_status_value,callback:function(t){e.test_status_value=t},expression:"test_status_value"}},e._l(e.test_status_option,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"冒烟测试结果："}},[i("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",clearable:"",placeholder:"请选择"},model:{value:e.smoke_testing_result_value,callback:function(t){e.smoke_testing_result_value=t},expression:"smoke_testing_result_value"}},e._l(e.smoke_testing_result_option,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"最终测试结果："}},[i("el-select",{staticStyle:{width:"120px"},attrs:{size:"small",clearable:"",placeholder:"请选择"},model:{value:e.test_result_value,callback:function(t){e.test_result_value=t},expression:"test_result_value"}},e._l(e.test_result_option,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"申请日期："}},[i("el-date-picker",{attrs:{size:"small",type:"daterange","value-format":"yyyy-MM-dd","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formInline.date,callback:function(t){e.$set(e.formInline,"date",t)},expression:"formInline.date"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit()}}},[e._v("添加")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"projectName",label:"项目名称","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"submitted_test_name",label:"提测名称","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"submitted_date",label:"申请日期","min-width":"120"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"test_date",label:"提交测试日期","min-width":"120"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"online_date",label:"项目上线日期","min-width":"120"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"submitted_test_director",label:"提测负责人","min-width":"120"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"fix_bug_director",label:"缺陷修复处理人员","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"test_director",label:"测试负责人","min-width":"120"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"test_status",label:"测试状态","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.test_status?i("el-tag",[e._v("已提测")]):e._e(),e._v(" "),2===t.row.test_status?i("el-tag",{attrs:{type:"success"}},[e._v("测试完成")]):e._e(),e._v(" "),3===t.row.test_status?i("el-tag",{attrs:{type:"danger"}},[e._v("退回")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"smoke_testing_result",label:"冒烟测试结果","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.smoke_testing_result?i("el-tag",[e._v("—")]):e._e(),e._v(" "),1===t.row.smoke_testing_result?i("el-tag",{attrs:{type:"success"}},[e._v("测试通过")]):e._e(),e._v(" "),2===t.row.smoke_testing_result?i("el-tag",{attrs:{type:"danger"}},[e._v("测试不通过")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"test_result",label:"最终测试结果","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.test_result?i("el-tag",[e._v("—")]):e._e(),e._v(" "),1===t.row.test_result?i("el-tag",{attrs:{type:"success"}},[e._v("测试通过")]):e._e(),e._v(" "),2===t.row.test_result?i("el-tag",{attrs:{type:"danger"}},[e._v("测试不通过")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"complete_date",label:"完成时间","min-width":"120"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作","min-width":"350",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row,"check")}}},[e._v("查看")]),e._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row,"edit")}}},[e._v("编辑")]),e._v(" "),0===t.row.smoke_testing_result&&"dev_role"!==e.user_role?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.smokeTesting(t.$index,t.row)}}},[e._v("冒烟测试标记")]):e._e(),e._v(" "),1===t.row.smoke_testing_result&&0===t.row.test_result&&"dev_role"!==e.user_role?i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.completeTesting(t.$index,t.row)}}},[e._v("完成标记")]):e._e(),e._v(" "),"dev_role"!==e.user_role?i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.submittedTestDelete(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}}),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.editFormVisible,width:"45%"},on:{"update:visible":function(t){e.editFormVisible=t},click:e.closeDialog}},[i("el-form",{ref:"editForm",attrs:{"label-width":"140px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"测试系统",prop:"projectName"}},[i("el-autocomplete",{attrs:{size:"small","fetch-suggestions":e.querySearchAsync,placeholder:"请输入项目名称",disabled:e.editFormControl.projectName_disabled},on:{select:e.handleSelect},model:{value:e.editForm.projectName,callback:function(t){e.$set(e.editForm,"projectName",t)},expression:"editForm.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"提测名称",prop:"submitted_test_name"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入提测名称",readonly:e.editFormControl.submitted_test_name_disabled},model:{value:e.editForm.submitted_test_name,callback:function(t){e.$set(e.editForm,"submitted_test_name",t)},expression:"editForm.submitted_test_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"申请日期",prop:"submitted_date"}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",readonly:e.editFormControl.submitted_date_disabled,placeholder:"选择日期"},model:{value:e.editForm.submitted_date,callback:function(t){e.$set(e.editForm,"submitted_date",t)},expression:"editForm.submitted_date"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"提交测试日期",prop:"test_date"}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",readonly:e.editFormControl.test_date_disabled,placeholder:"选择日期"},model:{value:e.editForm.test_date,callback:function(t){e.$set(e.editForm,"test_date",t)},expression:"editForm.test_date"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"项目上线日期",prop:"online_date"}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",readonly:e.editFormControl.online_date_disabled,placeholder:"选择日期"},model:{value:e.editForm.online_date,callback:function(t){e.$set(e.editForm,"online_date",t)},expression:"editForm.online_date"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"提测负责人",prop:"submitted_test_director"}},[i("el-select",{attrs:{size:"small",filterable:"",placeholder:"请选择提测负责人",disabled:e.editFormControl.submitted_test_director_disabled,"filter-method":e.pinyinMatch},on:{change:e.selectChange1,focus:e.resetOptions},model:{value:e.editForm.submitted_test_director_id,callback:function(t){e.$set(e.editForm,"submitted_test_director_id",t)},expression:"editForm.submitted_test_director_id"}},e._l(e.user_options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"缺陷修复处理人员",prop:"fix_bug_director"}},[i("el-select",{attrs:{size:"small",filterable:"",multiple:"",placeholder:"请选择缺陷修复处理人员",disabled:e.editFormControl.fix_bug_director_disabled,"filter-method":e.pinyinMatch},on:{change:e.selectChange2,focus:e.resetOptions},model:{value:e.editForm.fix_bug_director_id,callback:function(t){e.$set(e.editForm,"fix_bug_director_id",t)},expression:"editForm.fix_bug_director_id"}},e._l(e.user_options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"自测报告地址",prop:"self_test_report_url"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入自测报告地址",readonly:e.editFormControl.self_test_report_url_disabled},model:{value:e.editForm.self_test_report_url,callback:function(t){e.$set(e.editForm,"self_test_report_url",t)},expression:"editForm.self_test_report_url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"测试地址",prop:"test_url"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入测试地址",readonly:e.editFormControl.test_url_disabled},model:{value:e.editForm.test_url,callback:function(t){e.$set(e.editForm,"test_url",t)},expression:"editForm.test_url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"测试范围",prop:"test_scope"}},[i("el-input",{attrs:{type:"textarea",size:"medium","auto-complete":"off",placeholder:"请输入测试范围",rows:5,readonly:e.editFormControl.test_scope_disabled},model:{value:e.editForm.test_scope,callback:function(t){e.$set(e.editForm,"test_scope",t)},expression:"editForm.test_scope"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"影响范围",prop:"influence_scope"}},[i("el-input",{attrs:{type:"textarea",size:"medium","auto-complete":"off",placeholder:"请输入影响范围",rows:5,readonly:e.editFormControl.influence_scope_disabled},model:{value:e.editForm.influence_scope,callback:function(t){e.$set(e.editForm,"influence_scope",t)},expression:"editForm.influence_scope"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"注意事项",prop:"points_for_attention"}},[i("el-input",{attrs:{type:"textarea",size:"medium","auto-complete":"off",placeholder:"请输入注意事项",rows:5,readonly:e.editFormControl.points_for_attention_disabled},model:{value:e.editForm.points_for_attention,callback:function(t){e.$set(e.editForm,"points_for_attention",t)},expression:"editForm.points_for_attention"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"配置路径",prop:"config_url"}},[i("el-input",{attrs:{type:"textarea",size:"medium","auto-complete":"off",placeholder:"请输入配置路径",rows:5,readonly:e.editFormControl.config_url_disabled},model:{value:e.editForm.config_url,callback:function(t){e.$set(e.editForm,"config_url",t)},expression:"editForm.config_url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"脚本路径",prop:"script_url"}},[i("el-input",{attrs:{type:"textarea",size:"medium","auto-complete":"off",placeholder:"请输入脚本路径",rows:5,readonly:e.editFormControl.script_url_disabled},model:{value:e.editForm.script_url,callback:function(t){e.$set(e.editForm,"script_url",t)},expression:"editForm.script_url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"兼容说明",prop:"compatibility_desc"}},[i("el-input",{attrs:{type:"textarea",size:"medium","auto-complete":"off",placeholder:"请输入兼容说明",rows:5,readonly:e.editFormControl.compatibility_desc_disabled},model:{value:e.editForm.compatibility_desc,callback:function(t){e.$set(e.editForm,"compatibility_desc",t)},expression:"editForm.compatibility_desc"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"测试负责人",prop:"test_director"}},[i("el-select",{attrs:{size:"small",filterable:"",placeholder:"请选择测试负责人",disabled:e.editFormControl.test_director_disabled,"filter-method":e.pinyinMatch},on:{change:e.selectChange3,focus:e.resetOptions},model:{value:e.editForm.test_director_id,callback:function(t){e.$set(e.editForm,"test_director_id",t)},expression:"editForm.test_director_id"}},e._l(e.user_options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),e.editFormControl.test_status_show?i("el-form-item",{attrs:{label:"测试状态",prop:"test_status"}},[1===e.editForm.test_status?i("el-tag",[e._v("测试中")]):e._e(),e._v(" "),2===e.editForm.test_status?i("el-tag",[e._v("测试完成")]):e._e(),e._v(" "),3===e.editForm.test_status?i("el-tag",{attrs:{type:"danger"}},[e._v("退回")]):e._e()],1):e._e(),e._v(" "),e.editFormControl.smoke_testing_result_show?i("el-form-item",{attrs:{label:"冒烟测试结果",prop:"smoke_testing_result"}},[0===e.editForm.smoke_testing_result?i("el-tag",[e._v("—")]):e._e(),e._v(" "),1===e.editForm.smoke_testing_result?i("el-tag",{attrs:{type:"success"}},[e._v("测试通过")]):e._e(),e._v(" "),2===e.editForm.smoke_testing_result?i("el-tag",{attrs:{type:"danger"}},[e._v("测试不通过")]):e._e()],1):e._e(),e._v(" "),2===e.editForm.smoke_testing_result&&!0===e.editFormControl.smoke_testing_result_show?i("el-form-item",{attrs:{label:"不通过原因",disabled:"true"}},[i("el-cascader",{attrs:{options:e.reason_option,size:"small",placeholder:"请选择",disabled:""},model:{value:e.editForm.smoke_testing_fail_reason,callback:function(t){e.$set(e.editForm,"smoke_testing_fail_reason",t)},expression:"editForm.smoke_testing_fail_reason"}})],1):e._e(),e._v(" "),e.editFormControl.test_result_show?i("el-form-item",{attrs:{label:"最终测试结果",prop:"test_result"}},[0===e.editForm.test_result?i("el-tag",[e._v("—")]):e._e(),e._v(" "),1===e.editForm.test_result?i("el-tag",{attrs:{type:"success"}},[e._v("测试通过")]):e._e(),e._v(" "),2===e.editForm.test_result?i("el-tag",{attrs:{type:"danger"}},[e._v("测试不通过")]):e._e()],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"附件",prop:"file_name"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/submittedTests/uploadFile",disabled:e.editFormControl.upload_show,headers:e.uploadToken,data:{id:e.editForm.id},"with-credentials":!0,"on-remove":e.removeFile,"on-preview":e.handlePreview,"on-success":e.uploadSuccess,"before-remove":e.beforeRemove,"file-list":e.editForm.file_name}},[e.editFormControl.upload_button_show?i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]):e._e()],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),e.editFormControl.submit_show?i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保存")]):e._e()],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"冒烟测试标记",visible:e.smokeTestFormVisible,width:"30%"},on:{"update:visible":function(t){e.smokeTestFormVisible=t},click:e.closeDialog}},[i("el-form",{ref:"smokeTestForm",attrs:{"label-width":"120px",model:e.smokeTestForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"冒烟测试结果",prop:"smoke_testing_result"}},[i("el-radio-group",{model:{value:e.smokeTestForm.smoke_testing_result,callback:function(t){e.$set(e.smokeTestForm,"smoke_testing_result",t)},expression:"smokeTestForm.smoke_testing_result"}},[i("el-radio",{attrs:{label:1}},[e._v("测试通过")]),e._v(" "),i("el-radio",{attrs:{label:2}},[e._v("测试不通过")])],1)],1),e._v(" "),2===e.smokeTestForm.smoke_testing_result?i("el-form-item",{attrs:{label:"不通过原因",prop:"smoke_testing_fail_reason"}},[i("el-cascader",{attrs:{options:e.reason_option,size:"small",placeholder:"请选择"},model:{value:e.smokeTestForm.smoke_testing_fail_reason,callback:function(t){e.$set(e.smokeTestForm,"smoke_testing_fail_reason",t)},expression:"smokeTestForm.smoke_testing_fail_reason"}})],1):e._e(),e._v(" "),2===e.smokeTestForm.smoke_testing_result?i("el-form-item",{attrs:{label:"完成时间",prop:"complete_date"}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.smokeTestForm.complete_date,callback:function(t){e.$set(e.smokeTestForm,"complete_date",t)},expression:"smokeTestForm.complete_date"}})],1):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitSmokeTest("smokeTestForm")}}},[e._v("保存")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"冒烟测试标记",visible:e.completeTestFormVisible,width:"30%"},on:{"update:visible":function(t){e.completeTestFormVisible=t},click:e.closeDialog}},[i("el-form",{ref:"editForm",attrs:{"label-width":"120px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"最终测试结果",prop:"test_result"}},[i("el-radio-group",{model:{value:e.editForm.test_result,callback:function(t){e.$set(e.editForm,"test_result",t)},expression:"editForm.test_result"}},[i("el-radio",{attrs:{label:1}},[e._v("测试通过")]),e._v(" "),i("el-radio",{attrs:{label:2}},[e._v("测试不通过")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"完成时间",prop:"complete_date"}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.editForm.complete_date,callback:function(t){e.$set(e.editForm,"complete_date",t)},expression:"editForm.complete_date"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitTestResult("editForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var he=i("VU/8")(_e,fe,!1,function(e){i("4HSm")},"data-v-303d63d0",null).exports,ge=i("XLwt"),ve=i.n(ge),be={data:function(){return{date:"",listData:""}},methods:{search:function(){var e,t=this,i={start_date:this.date[0],end_date:this.date[1]};(e=i,F("/submittedTestsReport/smokeTestingRankReport",e)).then(function(e){t.loading=!1,!1===e.success?t.$message({type:"info",message:e.msg}):(t.listData=e.data,t.showChart(e.data),t.listData.forEach(function(e){e.smokeTesting_pass_rate=e.smokeTesting_pass_rate.toString()+"%"}))}).catch(function(e){t.loading=!1,console.log(e),t.$message.error("报表加载失败，请稍后再试！")})},showChart:function(e){var t=ve.a.init(document.getElementById("echarts_box")),i={legend:{},tooltip:{},dataset:{source:[["items","通过率","提测总数","通过数"]]},xAxis:{type:"category",axisLabel:{show:!0,interval:0,rotate:-30,inside:!1,margin:14}},yAxis:[{name:"通过率%",type:"value",min:0,max:100},{name:"数量",type:"value",min:0,max:100}],series:[{type:"bar",yAxisIndex:0},{type:"bar",yAxisIndex:1},{type:"bar",yAxisIndex:1}]},a=0;e.forEach(function(e){var t=[e.projectName+"\n"+e.submitted_test_director,e.smokeTesting_pass_rate,e.submittedTest_num,e.smokeTesting_pass_num];i.dataset.source.push(t),e.submittedTest_num>a&&(a=e.submittedTest_num)}),a+=5-a%5,i.yAxis[1].max=a,t.setOption(i)}}},Fe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("完成提测冒烟测试排名")])],1),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"查询时间："}},[i("el-date-picker",{attrs:{size:"small",type:"daterange","value-format":"yyyy-MM-dd","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),i("div",{staticStyle:{width:"90%",height:"400px"},attrs:{id:"echarts_box"}}),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"projectName",label:"项目名称","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"submitted_test_director",label:"提测负责人","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"submittedTest_num",label:"提测总数","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"smokeTesting_pass_num",label:"冒烟测试通过数","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"smokeTesting_pass_rate",label:"冒烟测试通过率","min-width":"150"}})],1)],1)},staticRenderFns:[]};var ye=i("VU/8")(be,Fe,!1,function(e){i("Ace3")},"data-v-09b71ba8",null).exports,we={data:function(){return{date:"",dimension_value:"1",dimension_options:[{value:"1",label:"按项目"},{value:"2",label:"按全部"}],list:"",categoryArr:[],categoryPos:0}},watch:{list:function(){this.$nextTick(function(){this.showChart(this.list)})}},mounted:function(){this.showChart()},methods:{search:function(){var e,t=this,i={start_date:this.date[0],end_date:this.date[1],dimension:this.dimension_value};(e=i,F("/submittedTestsReport/smokeTestingFailReasonAnalysisReport",e)).then(function(e){t.loading=!1,!1===e.success?t.$message({type:"info",message:e.msg}):t.list=e.data}).catch(function(e){t.loading=!1,console.log(e),t.$message.error("报表加载失败，请稍后再试！")})},showChart:function(e){var t=function(t){var i=ve.a.init(document.getElementById("echarts_box_"+t.toString())),a={title:{text:"原因出现次数",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"原因出现次数",type:"pie",radius:"50%",center:["50%","50%"],data:[],itemStyle:{normal:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(e){return 200*Math.random()}}]};e[t].forEach(function(e){var t={value:e.smoke_testing_fail_reason_detail_num,name:e.smoke_testing_fail_reason_detail};a.series[0].data.push(t)}),i.setOption(a,!0)};for(var i in e)t(i)},objectSpanMethod:function(e){var t=e.row,i=(e.column,e.rowIndex,e.columnIndex);if(0===i){var a=t.rowspan;return{rowspan:a,colspan:a>0?1:0}}if(4===i){var o=t.rowspan;return{rowspan:o,colspan:o>0?1:0}}return{rowspan:1,colspan:1}}}},ke={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("项目非一次性通过原因分析")])],1),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"查询时间："}},[i("el-date-picker",{attrs:{size:"small",type:"daterange","value-format":"yyyy-MM-dd","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"统计维度："}},[i("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.dimension_value,callback:function(t){e.dimension_value=t},expression:"dimension_value"}},e._l(e.dimension_options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),e._l(e.list,function(t,a,o){return i("div",{ref:"list",refInFor:!0},[i("el-card",{staticClass:"box-card;"},[i("div",{staticStyle:{"font-size":"20px","font-family":"Avenir,Helvetica,Arial,sans-serif"}},[e._v(e._s(a))]),e._v(" "),i("div",{staticStyle:{"margin-top":"20px"}}),e._v(" "),i("div",{staticStyle:{width:"90%",height:"360px"},attrs:{id:"echarts_box_"+a}}),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:t,"span-method":e.objectSpanMethod,border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"smoke_testing_fail_reason_category",label:"原因分类","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"smoke_testing_fail_reason_detail",label:"原因分析","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"smoke_testing_fail_reason_detail_num",label:"出现次数","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"detail_rate",label:"占比","min-width":"150"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"category_rate",label:"总占比","min-width":"150"}})],1)],1),e._v(" "),i("div",{staticStyle:{"margin-top":"20px"}})],1)})],2)},staticRenderFns:[]};var xe=i("VU/8")(we,ke,!1,function(e){i("vHAn")},"data-v-c358addc",null).exports,Se={data:function(){return{nshow:!0,fshow:!1,loading:!1,editFormVisible:!1,title:"添加",disabled:!1,editForm:{id:"",e_id:"",e_name:"",m_name:"",m_description:"",create_time:""},rules:{e_name:[{required:!0,message:"请输入环境名称",trigger:"blur"}],m_name:[{required:!0,message:"请输入模塊名称",trigger:"blur"}],m_description:[{required:!0,message:"请输入模塊描述",trigger:"blur"}]},projects:"",state:"",formInline:{page:1,limit:10,varLable:"",varName:"",projectName:"",projectEnvironment_id:"",projectEnvironment_name:"",token:localStorage.getItem("logintoken")},seletedata:{ids:"",token:localStorage.getItem("logintoken")},userparm:[],listData:[],pageparm:{currentPage:1,pageSize:10,oldPageSize:10,total:10},options:"",value:""}},components:{Pagination:K},created:function(){this.loadAllProject()},methods:{getdata:function(e){var t,i=this;this.loading=!0,this.pageparm.currentPage=this.formInline.page,this.pageparm.pageSize=this.formInline.limit,e={currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,projectEnvironment_id:this.formInline.projectEnvironment_id},(t=e,F("/apiTest/apiModuleList",t)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.listData=e.data,i.pageparm.total=e.count)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("菜单加载失败，请稍后再试！")})},callFather:function(e){this.pageparm.pageSize!==e.pageSize?(this.formInline.page=1,this.formInline.limit=e.pageSize,this.getdata(this.formInline)):(this.formInline.page=e.currentPage,this.formInline.limit=e.pageSize,this.getdata(this.formInline))},search:function(){this.formInline.page=1,this.getdata(this.formInline)},handleEdit:function(e,t){this.editFormVisible=!0,void 0!=t&&"undefined"!=t?(this.title="修改",this.disabled=!0,this.editForm.id=t.id,this.editForm.e_id=this.formInline.projectEnvironment_id,this.editForm.e_name=this.formInline.projectEnvironment_name,this.editForm.m_name=t.module_name,this.editForm.m_description=t.module_description):(this.title="添加",this.disabled=!0,this.editForm.id="",this.editForm.e_id=this.formInline.projectEnvironment_id,this.editForm.e_name=this.formInline.projectEnvironment_name,this.editForm.m_name="",this.editForm.m_description="")},closeDialog:function(){this.editFormVisible=!1},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var i;(i=t.editForm,v("/apiTest/saveApiModule",i)).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("项目保存失败，请稍后再试！")})})},apiModuleDelete:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,w("/apiTest/deleteApiModule",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){console.log(e),i.loading=!1,i.$message.error("项目删除失败，请稍后再试！")})}).catch(function(e){console.log(e)})},loadAllProject:function(){var e=this;te().then(function(t){e.projects=t})},querySearchAsync:function(e,t){var i=this.projects;t(e?i.filter(this.createStateFilter(e)):i)},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.loadAllProjectEnvironment(e)},loadAllProjectEnvironment:function(e){var t=this,i={name:e.value};ae(i).then(function(e){t.options=e})},handleChange:function(e){this.formInline.projectEnvironment_id=e;var t;void 0!==(t=this.options.find(function(t){return t.value===e}))&&(this.formInline.projectEnvironment_name=t.label),this.getdata(this.formInline)},inputChange:function(){this.formInline.projectEnvironment_id="",this.formInline.projectEnvironment_name="",this.options="",this.value=""}}},Ie={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("模块管理")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"项目名称："}},[i("el-autocomplete",{attrs:{size:"small",placeholder:"输入项目名称","fetch-suggestions":e.querySearchAsync},on:{select:e.handleSelect,input:e.inputChange},model:{value:e.formInline.projectName,callback:function(t){e.$set(e.formInline,"projectName",t)},expression:"formInline.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"项目环境名称："}},[i("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit()}}},[e._v("添加")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[i("el-table-column",{attrs:{align:"center",type:"selection",width:"60"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"module_name",label:"模块名称",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"module_description",label:"模块描述",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"create_time",label:"创建时间",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作","min-width":"300",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.apiModuleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}}),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.editFormVisible,width:"30%"},on:{"update:visible":function(t){e.editFormVisible=t},click:e.closeDialog}},[i("el-form",{ref:"editForm",attrs:{"label-width":"120px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"环境名称",prop:"e_name"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入环境名称",disabled:e.disabled},model:{value:e.editForm.e_name,callback:function(t){e.$set(e.editForm,"e_name",t)},expression:"editForm.e_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模块名称",prop:"m_name"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入模块名称"},model:{value:e.editForm.m_name,callback:function(t){e.$set(e.editForm,"m_name",t)},expression:"editForm.m_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模块描述",prop:"m_description"}},[i("el-input",{attrs:{type:"textarea",size:"small","auto-complete":"off",placeholder:"请输入模块描述"},model:{value:e.editForm.m_description,callback:function(t){e.$set(e.editForm,"m_description",t)},expression:"editForm.m_description"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var $e=i("VU/8")(Se,Ie,!1,function(e){i("ZYz0")},"data-v-a741efda",null).exports,Ae={name:"apiManagement",data:function(){return{nshow:!0,fshow:!1,loading:!1,editFormVisible:!1,environmentVariableVisible:!1,e_editFormVisible:!1,title:"添加",e_title:"添加",editForm:{id:"",module_name:"",module_id:"",request_method:"",api_name:"",url:"",summary:"",independent:!1},e_editForm:{id:"",e_id:"",name:"",value:""},rules:{module_id:[{required:!0,message:"请输入模块名称",trigger:"blur"}],request_method:[{required:!0,message:"请选择请求方法",trigger:"blur"}],api_name:[{required:!0,message:"请输入接口名称",trigger:"blur"}],url:[{required:!0,message:"请输入url",trigger:"blur"}],independent:[{required:!0,message:"请选择是否为独立接口",trigger:"blur"}]},projects:"",state:"",api_modules:"",module_list:"",defaultProps:{children:"children",label:"module_name"},current_module_id:"",filterText:"",formInline:{page:1,limit:10,varLable:"",varName:"",projectName:"",projectEnvironment_id:"",projectEnvironment_name:"",module_id:"",module_name:"",apiName:"",url:""},e_formInline:{page:1,limit:10,projectEnvironment_id:"",ev_name:""},userparm:[],listData:[],pageparm:{currentPage:1,pageSize:10,oldPageSize:10,total:10},e_pageparm:{currentPage:1,pageSize:10,oldPageSize:10,total:10},options:"",value:"",m_options:"",copy_m_options:"",request_method_options:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"DELETE",label:"DELETE"}],environmentVariableData:[]}},components:{Pagination:K},created:function(){this.loadAllProject()},methods:{getModuleData:function(e){var t=this;e={projectEnvironment_id:this.formInline.projectEnvironment_id},ie(e).then(function(e){!1===e.success?t.$message({type:"info",message:e.msg}):(t.originData=e.data,e.data!==[]&&(t.m_options=T(t.originData),t.copy_m_options=T(t.originData),t.module_list=E(t.originData)))}).catch(function(e){t.loading=!1,console.log(e),t.$message.error("模块加载失败，请稍后再试！")})},getdata:function(e){var t,i=this;this.loading=!0,this.pageparm.currentPage=this.formInline.page,this.pageparm.pageSize=this.formInline.limit,e={currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,projectEnvironmentId:this.formInline.projectEnvironment_id,apiModuleId:this.formInline.module_id,apiName:this.formInline.apiName,url:this.formInline.url},(t=e,F("/apiTest/apiList",t)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.listData=e.data,i.pageparm.total=e.count)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("菜单加载失败，请稍后再试！")})},callFather:function(e){this.pageparm.pageSize!==e.pageSize?(this.formInline.page=1,this.formInline.limit=e.pageSize,this.getdata(this.formInline)):(this.formInline.page=e.currentPage,this.formInline.limit=e.pageSize,this.getdata(this.formInline))},e_callFather:function(e){this.e_pageparm.pageSize!==e.pageSize?(this.e_formInline.page=1,this.e_formInline.limit=e.pageSize,this.handleEnvironmentVariable()):(this.e_formInline.page=e.currentPage,this.e_formInline.limit=e.pageSize,this.handleEnvironmentVariable())},search:function(){this.formInline.page=1,this.formInline.module_id="",this.getModuleData(this.formInline),this.getdata(this.formInline)},handleEdit:function(e,t){this.editFormVisible=!0,void 0!=t&&"undefined"!=t?(this.title="修改",this.editForm.id=t.id,this.editForm.module_id=t.apiModule_id,this.editForm.request_method=t.request_method,this.editForm.api_name=t.api_name,this.editForm.url=t.url,this.editForm.independent=t.independent,this.editForm.summary=t.summary):(this.title="添加",this.editForm.id="",this.editForm.module_id=this.current_module_id,this.editForm.request_method="",this.editForm.api_name="",this.editForm.url="",this.editForm.summary="")},e_handleEdit:function(e,t){this.e_editFormVisible=!0,void 0!=t&&"undefined"!=t?(this.e_title="修改",this.e_editForm.id=t.id,this.e_editForm.e_id=this.formInline.projectEnvironment_id,this.e_editForm.name=t.name,this.e_editForm.value=t.value):(this.e_title="添加",this.e_editForm.id="",this.e_editForm.e_id=this.formInline.projectEnvironment_id,this.e_editForm.name="",this.e_editForm.value="")},handleEnvironmentVariable:function(){var e=this;this.e_formInline.projectEnvironment_id=this.formInline.projectEnvironment_id,this.e_pageparm.currentPage=this.e_formInline.page,this.e_pageparm.pageSize=this.e_formInline.limit;var t,i={currentPage:this.e_pageparm.currentPage,pageSize:this.e_pageparm.pageSize,e_id:this.e_formInline.projectEnvironment_id,ev_name:this.e_formInline.ev_name};(t=i,F("/apiTest/getEnvironmentVariable",t)).then(function(t){t.success?(e.environmentVariableData=t.data,e.environmentVariableVisible=!0,e.e_pageparm.total=t.count):e.$message({type:"info",message:t.msg})}).catch(function(t){e.loading=!1,e.$message.error("环境变量获取失败，请稍后再试！")})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(""===t.editForm.id){var i=t.editForm;delete i.id,(a=i,v("/apiTest/saveApi",a)).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("项目保存失败，请稍后再试！")})}else{(function(e){return b("/apiTest/saveApi",e)})(t.editForm).then(function(e){t.editFormVisible=!1,t.loading=!1,e.success?(t.getdata(t.formInline),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("项目保存失败，请稍后再试！")})}var a})},e_submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(""===t.e_editForm.id){var i=t.e_editForm;delete i.id,(a=i,v("/apiTest/saveEnvironmentVariable",a)).then(function(e){t.e_editFormVisible=!1,t.loading=!1,e.success?(t.handleEnvironmentVariable(),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("环境变量失败，请稍后再试！")})}else{(function(e){return b("/apiTest/saveEnvironmentVariable",e)})(t.e_editForm).then(function(e){t.e_editFormVisible=!1,t.loading=!1,e.success?(t.handleEnvironmentVariable(),t.$message({type:"success",message:e.msg})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("环境变量失败，请稍后再试！")})}var a})},closeDialog:function(){this.editFormVisible=!1},apiDelete:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id,seq:t.seq,apiModule_id:t.apiModule_id};(e=a,w("/apiTest/deleteApi",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){console.log(e),i.loading=!1,i.$message.error("项目删除失败，请稍后再试！")})}).catch(function(e){console.log(e)})},EnvironmentVariableDelete:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,w("/apiTest/deleteEnvironmentVariable",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.handleEnvironmentVariable()):i.$message({type:"info",message:e.msg})}).catch(function(e){console.log(e),i.loading=!1,i.$message.error("项目删除失败，请稍后再试！")})}).catch(function(e){console.log(e)})},toTestCase:function(e){this.$router.push({path:"/apiTest/apiManagement/apiTestCase",query:{api_id:e.id}})},loadAllProject:function(){var e=this;te().then(function(t){e.projects=t})},querySearchAsync1:function(e,t){var i=this.projects;t(e?i.filter(this.createStateFilter(e)):i)},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect1:function(e){this.options="",this.value="",this.loadAllProjectEnvironment(e),this.formInline.module_id="",this.formInline.module_name=""},inputEvent:function(){""===this.formInline.module_name&&(this.formInline.module_id="",this.editForm.module_id="",this.editForm.module_name="")},loadAllProjectEnvironment:function(e){var t=this,i={name:e.value};ae(i).then(function(e){t.options=e})},handleChange:function(e){this.formInline.module_name="",this.formInline.module_id="",this.formInline.projectEnvironment_id=e},inputChange:function(){this.formInline.projectEnvironment_id="",this.formInline.projectEnvironment_name="",this.options="",this.value="",this.formInline.module_id="",this.formInline.module_name=""},m_handleChange:function(e){this.editForm.module_id=e},upLayer:function(e,t){var i=this,a=this;0===e?a.$message({message:"处于顶端，不能继续上移",type:"warning"}):function(e){return b("/apiTest/upApi",e)}({apiModule_id:t.apiModule_id,seq:t.seq,form_apiModule_name:this.formInline.module_name}).then(function(t){if(!1===t.success)i.$message({type:"info",message:t.msg});else{i.getdata(i.formInline);var o=a.listData[e-1];a.listData.splice(e-1,1),a.listData.splice(e,0,o)}})},downLayer:function(e,t){var i=this,a=this;e+1===a.listData.length?a.$message({message:"处于末端端，不能继续下移",type:"warning"}):function(e){return b("/apiTest/downApi",e)}({apiModule_id:t.apiModule_id,seq:t.seq,form_apiModule_name:this.formInline.module_name}).then(function(t){if(!1===t.success)i.$message({type:"info",message:t.msg});else{i.getdata(i.formInline);var o=a.listData[e+1];a.listData.splice(e+1,1),a.listData.splice(e,0,o)}})},changeStatus:function(e,t){var i=this;(function(e){return b("/apiTest/changeApiStatus",e)})({id:t.id,status:t.status}).then(function(e){!1===e.success&&i.$message({type:"info",message:e.msg})})},closeEnvironmentVariableDialog:function(){this.environmentVariableVisible=!1},filterNode:function(e,t){return!e||-1!==t.module_name.indexOf(e)},handleNodeClick:function(e){console.log(e),this.formInline.module_id=e.id,this.formInline.module_name=e.module_name,this.current_module_id=e.id,this.getdata(this.formInline)},pinyinMatch:function(e){if(e){var t=[];this.copy_m_options.forEach(function(i){pe.a.match(i.label,e)&&t.push(i)}),this.m_options=t}else this.m_options=this.copy_m_options}}},je={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("接口管理")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"项目名称："}},[i("el-autocomplete",{attrs:{size:"small",placeholder:"输入项目名称","fetch-suggestions":e.querySearchAsync1},on:{select:e.handleSelect1,input:e.inputChange},model:{value:e.formInline.projectName,callback:function(t){e.$set(e.formInline,"projectName",t)},expression:"formInline.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"项目环境名称："}},[i("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"接口名称："}},[i("el-input",{attrs:{size:"small",placeholder:"输入接口名称"},model:{value:e.formInline.apiName,callback:function(t){e.$set(e.formInline,"apiName",t)},expression:"formInline.apiName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"url："}},[i("el-input",{attrs:{size:"small",placeholder:"输入url"},model:{value:e.formInline.url,callback:function(t){e.$set(e.formInline,"url",t)},expression:"formInline.url"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit()}}},[e._v("添加")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEnvironmentVariable()}}},[e._v("环境变量")])],1)],1),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:4}},[i("el-card",{staticClass:"box-card;"},[i("el-scrollbar",{staticStyle:{height:"700px","overflow-wrap":"break-word"},attrs:{"wrap-style":"overflow-x:auto;"}},[i("el-input",{attrs:{size:"small",placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.module_list,props:e.defaultProps,"node-key":"id","default-expand-all":"","highlight-current":!0,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)],1)],1),e._v(" "),i("el-col",{attrs:{span:20}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"module_name",label:"所属模块",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"api_name",label:"接口名称",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"request_method",label:"请求方法",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"url",label:"url",width:"250"}}),e._v(" "),i("el-table-column",{attrs:{prop:"independent",label:"是否为独立接口",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[!1===t.row.independent?i("p",[e._v("否")]):e._e(),e._v(" "),!0===t.row.independent?i("p",[e._v("是")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"summary",label:"概述",width:"250"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"status",label:"状态",width:"75",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(i){return e.changeStatus(t.$index,t.row)}},model:{value:t.row.status,callback:function(i){e.$set(t.row,"status",i)},expression:"scope.row.status"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作","min-width":"300",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.toTestCase(t.row)}}},[e._v("测试用例")]),e._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.apiDelete(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),i("el-button-group",[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.upLayer(t.$index,t.row)}}},[e._v("上移")]),e._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.downLayer(t.$index,t.row)}}},[e._v("下移")])],1)]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}})],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.editFormVisible,width:"30%"},on:{"update:visible":function(t){e.editFormVisible=t},click:e.closeDialog}},[i("el-form",{ref:"editForm",attrs:{"label-width":"120px",model:e.editForm,rules:e.rules}},[i("el-form-item",{attrs:{label:"所属模块",prop:"module_id"}},[i("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择",filterable:"","filter-method":e.pinyinMatch},on:{change:e.m_handleChange},model:{value:e.editForm.module_id,callback:function(t){e.$set(e.editForm,"module_id",t)},expression:"editForm.module_id"}},e._l(e.m_options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"接口名称",prop:"api_name"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入接口名称"},model:{value:e.editForm.api_name,callback:function(t){e.$set(e.editForm,"api_name",t)},expression:"editForm.api_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"请求方法",prop:"request_method"}},[i("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.editForm.request_method,callback:function(t){e.$set(e.editForm,"request_method",t)},expression:"editForm.request_method"}},e._l(e.request_method_options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"url",prop:"url"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入url"},model:{value:e.editForm.url,callback:function(t){e.$set(e.editForm,"url",t)},expression:"editForm.url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否为独立接口",prop:"independent"}},[i("el-radio-group",{model:{value:e.editForm.independent,callback:function(t){e.$set(e.editForm,"independent",t)},expression:"editForm.independent"}},[i("el-radio",{attrs:{label:!1}},[e._v("否")]),e._v(" "),i("el-radio",{attrs:{label:!0}},[e._v("是")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"概述",prop:"summary"}},[i("el-input",{attrs:{type:"textarea",size:"small","auto-complete":"off",placeholder:"请输入概述"},model:{value:e.editForm.summary,callback:function(t){e.$set(e.editForm,"summary",t)},expression:"editForm.summary"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保存")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"环境变量",visible:e.environmentVariableVisible,width:"55%"},on:{"update:visible":function(t){e.environmentVariableVisible=t},click:e.closeDialog}},[i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.e_formInline}},[i("el-form-item",{attrs:{label:"输入变量名："}},[i("el-input",{attrs:{size:"small",placeholder:"输入变量名"},model:{value:e.e_formInline.ev_name,callback:function(t){e.$set(e.e_formInline,"ev_name",t)},expression:"e_formInline.ev_name"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleEnvironmentVariable}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.e_handleEdit()}}},[e._v("添加")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{size:"small",data:e.environmentVariableData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[i("el-table-column",{attrs:{align:"center",type:"selection",width:"60"}}),e._v(" "),e._e(),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"name",label:"变量名",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"value",label:"变量值",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.e_handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.EnvironmentVariableDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.e_pageparm},on:{callFather:e.e_callFather}})],1),e._v(" "),i("el-dialog",{attrs:{title:e.e_title,visible:e.e_editFormVisible,width:"30%"},on:{"update:visible":function(t){e.e_editFormVisible=t},click:function(t){e.e_editFormVisible=!1}}},[i("el-form",{ref:"e_editForm",attrs:{"label-width":"120px",model:e.e_editForm}},[i("el-form-item",{attrs:{label:"变量名",prop:"name"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入变量名"},model:{value:e.e_editForm.name,callback:function(t){e.$set(e.e_editForm,"name",t)},expression:"e_editForm.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"变量值",prop:"value"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入变量值"},model:{value:e.e_editForm.value,callback:function(t){e.$set(e.e_editForm,"value",t)},expression:"e_editForm.value"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.e_editFormVisible=!1}}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.e_submitForm("e_editForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var ze=i("VU/8")(Ae,je,!1,function(e){i("vTwR")},"data-v-6cf2e704",null).exports,Ce={data:function(){return{nshow:!0,fshow:!1,loading:!1,api_id:"",formInline:{page:1,limit:10,token:localStorage.getItem("logintoken")},pageparm:{currentPage:1,pageSize:10,oldPageSize:10,total:10},listData:[]}},components:{Pagination:K},created:function(){this.getParams(),this.getdata(this.formInline)},methods:{getdata:function(e){var t,i=this;this.loading=!0,this.pageparm.currentPage=this.formInline.page,this.pageparm.pageSize=this.formInline.limit,e={currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,api_id:this.api_id},(t=e,F("/apiTest/apiTestcaseList",t)).then(function(e){i.loading=!1,0==e.success?i.$message({type:"info",message:e.msg}):(i.listData=e.data,i.pageparm.total=e.count)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("菜单加载失败，请稍后再试！")})},getParams:function(){this.api_id=this.$route.query.api_id},callFather:function(e){this.pageparm.pageSize!==e.pageSize?(this.formInline.page=1,this.formInline.limit=e.pageSize,this.getdata(this.formInline)):(this.formInline.page=e.currentPage,this.formInline.limit=e.pageSize,this.getdata(this.formInline))},apiTestcaseDelete:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,w("/apiTest/deleteApiTestcase",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){console.log(e),i.loading=!1,i.$message.error("项目删除失败，请稍后再试！")})}).catch(function(e){console.log(e)})},handleEdit:function(e,t){void 0!=t&&"undefined"!=t?this.$router.push({path:"/apiTest/apiManagement/apiTestCase/workbench",query:{id:t.id,api_id:this.api_id}}):this.$router.push({path:"/apiTest/apiManagement/apiTestCase/workbench",query:{id:"",api_id:this.api_id}})},copy:function(e,t){var i=this;this.$confirm("确定要复制吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,F("/apiTest/copyTestcase",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){console.log(e),i.loading=!1,i.$message.error("复制失败，请稍后再试！")})}).catch(function(e){console.log(e)})}}},De={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",{attrs:{to:{path:"/apiTest/apiManagement"}}},[e._v("接口管理")]),e._v(" "),i("el-breadcrumb-item",[e._v("测试用例")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit()}}},[e._v("添加")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"title",label:"标题",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"url",label:"url",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作","min-width":"300",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.copy(t.$index,t.row)}}},[e._v("复制")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.apiTestcaseDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}})],1)},staticRenderFns:[]};var Te=i("VU/8")(Ce,De,!1,function(e){i("dEYZ")},"data-v-fb6429a0",null).exports,Ee={name:"jsonView",props:{json:[Object,Array],jsonKey:{type:String,default:""},closed:{type:Boolean,default:!1},isLast:{type:Boolean,default:!0},fontSize:{type:Number,default:13}},created:function(){var e=this;this.innerclosed=this.closed,this.$watch("closed",function(){e.innerclosed=e.closed})},data:function(){return{innerclosed:!0}},methods:{isObjectOrArray:function(e){var t=Object.prototype.toString.call(e);return"[object Array]"===t||"[object Object]"===t},toggleClose:function(){this.innerclosed?this.innerclosed=!1:this.innerclosed=!0}},computed:{isArray:function(){return"[object Array]"===Object.prototype.toString.call(this.json)},length:function(){return this.isArray?this.json.length:n()(this.json).length},subfix:function(){return(this.isArray?"]":"}")+(this.isLast?"":",")},prefix:function(){return this.isArray?"[":"{"},items:function(){var e=this;if(this.isArray)return this.json.map(function(t){var i=e.isObjectOrArray(t);return{value:i?t:f()(t),isJSON:i,key:""}});var t=this.json;return n()(t).map(function(i){var a=t[i],o=e.isObjectOrArray(a);return{value:o?a:f()(a),isJSON:o,key:i}})}}},Ve={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bgView"},[i("div",{class:["json-view",e.length?"closeable":""],style:"font-size:"+e.fontSize+"px"},[e.length?i("span",{class:["angle",e.innerclosed?"closed":""],on:{click:e.toggleClose}}):e._e(),e._v(" "),i("div",{staticClass:"content-wrap"},[i("p",{staticClass:"first-line"},[e.jsonKey?i("span",{staticClass:"json-key"},[e._v('"'+e._s(e.jsonKey)+'": ')]):e._e(),e._v(" "),e.length?i("span",[e._v("\n        "+e._s(e.prefix)+"\n        "+e._s(e.innerclosed?"..."+e.subfix:"")+"\n        "),i("span",{staticClass:"json-note"},[e._v("\n         "+e._s(e.innerclosed?" // count: "+e.length:"")+"\n        ")])]):e._e(),e._v(" "),e.length?e._e():i("span",[e._v(e._s(e.isArray?"[]":"{}"))])]),e._v(" "),!e.innerclosed&&e.length?i("div",{staticClass:"json-body"},[e._l(e.items,function(t,a){return[t.isJSON?i("json-view",{key:a,attrs:{closed:e.closed,json:t.value,jsonKey:t.key,isLast:a===e.items.length-1}}):i("p",{key:a,staticClass:"json-item"},[i("span",{staticClass:"json-key"},[e._v("\n              "+e._s(e.isArray?"":'"'+t.key+'"')+"\n          ")]),e._v("\n            :\n            "),i("span",{staticClass:"json-value"},[e._v("\n              "+e._s(t.value+(a===e.items.length-1?"":","))+"\n          ")])])]}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.innerclosed,expression:"!innerclosed"}],staticClass:"body-line"})],2):e._e(),e._v(" "),!e.innerclosed&&e.length?i("p",{staticClass:"last-line"},[i("span",[e._v(e._s(e.subfix))])]):e._e()])])])},staticRenderFns:[]};var Pe=i("VU/8")(Ee,Ve,!1,function(e){i("4H17")},null,null).exports,qe=i("Xxa5"),Ne=i.n(qe),Re=i("exGp"),Me=i.n(Re),Oe=(i("uGPS"),i("L6Z1")),Be=i.n(Oe),Ue={props:{value:[String,Number,Object,Array],showBtns:[Boolean],expandedOnStart:{type:Boolean,default:!1},mode:{type:String,default:"tree"},modes:{type:Array,default:function(){return["tree","code","form","text","view"]}},lang:{type:String,default:"en"}},watch:{value:{immediate:!0,handler:function(e){var t=this;return Me()(Ne.a.mark(function i(){return Ne.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.internalChange){i.next=5;break}return i.next=3,t.setEditor(e);case 3:t.error=!1,t.expandAll();case 5:case"end":return i.stop()}},i,t)}))()},deep:!0}},data:function(){return{editor:null,error:!1,json:this.value,internalChange:!1,expandedModes:["tree","view","form"],locale:{it:{save:"SALVA"},en:{save:"SAVE"},zh:{save:"保存"}}}},mounted:function(){var e=this,t={mode:this.mode,modes:this.modes,onChange:function(){try{var t=e.editor.get();e.json=t,e.error=!1,e.$emit("json-change",t),e.internalChange=!0,e.$emit("input",t),e.$nextTick(function(){e.internalChange=!1})}catch(t){e.error=!0,e.$emit("has-error",t)}},onModeChange:function(){e.expandAll()}};this.editor=new Be.a(this.$el.querySelector(".jsoneditor-vue"),t,this.json)},methods:{expandAll:function(){this.expandedOnStart&&this.expandedModes.includes(this.editor.getMode())&&this.editor.expandAll()},onSave:function(){this.$emit("json-save",this.json)},setEditor:function(e){var t=this;return Me()(Ne.a.mark(function i(){return Ne.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t.editor&&t.editor.set(e);case 1:case"end":return i.stop()}},i,t)}))()}}},Le={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"jsoneditor-vue"}),e._v(" "),!1!==e.showBtns?i("div",{staticClass:"jsoneditor-btns"},[i("button",{staticClass:"json-save-btn",attrs:{type:"button",disabled:e.error},on:{click:function(t){return e.onSave()}}},[e._v(e._s(e.locale[e.lang].save))])]):e._e()])},staticRenderFns:[]};var Je={components:{JsonView:Pe,vueJsonEditor:i("VU/8")(Ue,Le,!1,function(e){i("NHqR")},"data-v-723cff9b",null).exports},data:function(){return{id:"",api_id:"",request_method_select:"",activeName:"first",request_method_options:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"DELETE",label:"DELETE"}],encrypt_option:"",apiData:{api_id:"",encode:"",id:"",request_body:"",request_header:"",request_file:[],request_method:"",title:"",url:"",verify:!0,assert:!1,assert_content:"",postProcessor:!1,post_processor_content:" ",encrypt_value:""},funcVariableData:!1,debugLog:[],uploadData:{id:""},uploadToken:{Authorization:localStorage.getItem("logintoken")}}},created:function(){this.getParams(),this.getData(),this.getEncryptOption()},methods:{getData:function(e){var t,i=this;e={id:this.id,api_id:this.api_id},(t=e,F("/apiTest/apiTestcaseData",t)).then(function(e){!1===e.success?i.$message({type:"info",message:e.msg}):(i.apiData.api_id=e.data.api_id,""===e.data.encode?i.apiData.encode="utf8":i.apiData.encode=e.data.encode,i.apiData.encrypt_value=e.data.encrypt_type,i.apiData.id=e.data.id,""!==e.data.request_body?i.apiData.request_body=JSON.parse(e.data.request_body):i.apiData.request_body="",""!==e.data.request_header?i.apiData.request_header=JSON.parse(e.data.request_header):i.apiData.request_header="",i.apiData.request_method=e.data.request_method,i.apiData.title=e.data.title,i.apiData.url=e.data.url,i.apiData.verify="true"===e.data.verify,i.request_method_select=e.data.request_method,i.apiData.assert="true"===e.data.is_assert,""!==e.data.assert_content?i.apiData.assert_content=JSON.parse(e.data.assert_content):i.apiData.assert_content="",i.apiData.postProcessor="true"===e.data.is_post_processor,""!==e.data.post_processor_content?i.apiData.post_processor_content=JSON.parse(e.data.post_processor_content):i.apiData.post_processor_content="",i.apiData.request_file=e.data.file_name)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("数据加载失败，请稍后再试！")})},handleClick:function(e,t){},getParams:function(){this.id=this.$route.query.id,this.api_id=this.$route.query.api_id,this.uploadData.id=this.$route.query.id},getEncryptOption:function(){var e,t=this;F("/apiTest/getEncryptOption",e).then(function(e){t.encrypt_option=e.data})},save:function(){var e,t=this,i=this.apiData;i.request_header=f()(i.request_header),i.request_body=f()(i.request_body),i.assert_content=f()(i.assert_content),i.post_processor_content=f()(i.post_processor_content),void 0===i.encrypt_value&&(i.encrypt_value=1),""===this.apiData.id?(delete i.id,(e=i,v("/apiTest/saveApiTestcase",e)).then(function(e){e.success?(t.$message({type:"success",message:e.msg}),e.hasOwnProperty("id")&&(t.id=e.id,t.apiData.id=e.id,t.uploadData.id=e.id),t.getData()):t.$message({type:"info",message:e.msg})}).catch(function(e){t.$message.error("保存失败，请稍后再试！")})):function(e){return b("/apiTest/saveApiTestcase",e)}(i).then(function(e){e.success?(t.$message({type:"success",message:e.msg}),e.hasOwnProperty("id")&&(t.id=e.id,t.apiData.id=e.id,t.uploadData.id=e.id),t.getData()):t.$message({type:"info",message:e.msg})}).catch(function(e){t.$message.error("保存失败，请稍后再试！")})},sleep:function(e){for(var t=(new Date).getTime();!((new Date).getTime()-t>e););},debug:function(){var e,t=this,i=this.apiData;i.request_header=f()(i.request_header),i.request_body=f()(i.request_body),i.assert_content=f()(i.assert_content),i.post_processor_content=f()(i.post_processor_content),(e=i,v("/apiTest/debugApi",e)).then(function(e){e.success?(t.debugLog=e.data,t.getData()):t.$message({type:"info",message:e.msg})})},jsonView:function(e){console.log(e);var t=e.match(/\{.*\}/);try{return JSON.parse(t[0])}catch(t){return console.log(t),e}},uploadSuccess:function(e,t,i){""===this.apiData.request_file&&(this.apiData.request_file=[]),this.apiData.request_file.push({name:e.file_name,realname:e.real_file_name}),console.log(this.apiData.request_file)},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},removeFile:function(e,t){var i,a=this,o={id:this.apiData.id,file:e.name};(i=o,w("/apiTest/deleteUploadFile",i)).then(function(t){t.success?(a.$message({type:"success",message:t.msg}),a.apiData.request_file.some(function(t,i){if(t.name===e.name)return a.apiData.request_file.splice(a.apiData.request_file.indexOf(i),1),!0}),console.log(a.apiData.request_file)):a.$message({type:"info",message:t.msg})}).catch(function(e){console.log(e),a.loading=!1,a.$message.error("移除文件失败，请稍后再试！")})},handlePreview:function(e,t){var i,a={file:e.realname};(i=a,y("/apiTest/downloadFile",i)).then(function(t){var i=t.data,a=new Blob([i]);window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(a,e.name);var o=window.URL.createObjectURL(a),s=document.createElement("a");document.body.appendChild(s),s.href=o,s.download=decodeURI(e.name),s.click(),window.URL.revokeObjectURL(o)})},handleFunc:function(){this.funcVariableData=!0}}},He={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",{attrs:{to:{path:"/apiTest/apiManagement"}}},[e._v("接口管理")]),e._v(" "),i("el-breadcrumb-item",{attrs:{to:{path:"/apiTest/apiManagement/apiTestCase",query:{api_id:e.api_id}}}},[e._v("测试用例")]),e._v(" "),i("el-breadcrumb-item",[e._v("工作台")])],1),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-form",{attrs:{model:e.apiData,"label-width":"70px","label-position":"left",size:"small"}},[i("el-form-item",{attrs:{label:"标题"}},[i("el-input",{staticStyle:{width:"680px"},attrs:{size:"small","auto-complete":"off",placeholder:"标题"},model:{value:e.apiData.title,callback:function(t){e.$set(e.apiData,"title",t)},expression:"apiData.title"}}),e._v(" "),i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:e.debug}},[e._v("调试")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:e.handleFunc}},[e._v("函数助手")])],1),e._v(" "),i("el-form-item",{attrs:{label:"url"}},[i("el-input",{staticClass:"input-with-select",staticStyle:{width:"680px"},attrs:{size:"small",disabled:!0},model:{value:e.apiData.url,callback:function(t){e.$set(e.apiData,"url",t)},expression:"apiData.url"}},[i("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"请选择",size:"small",disabled:"true"},slot:"prepend",model:{value:e.request_method_select,callback:function(t){e.request_method_select=t},expression:"request_method_select"}},e._l(e.request_method_options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"字符编码"}},[i("el-input",{staticStyle:{width:"680px"},attrs:{size:"small","auto-complete":"off",placeholder:"字符编码"},model:{value:e.apiData.encode,callback:function(t){e.$set(e.apiData,"encode",t)},expression:"apiData.encode"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"加密方式"}},[i("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.apiData.encrypt_value,callback:function(t){e.$set(e.apiData,"encrypt_value",t)},expression:"apiData.encrypt_value"}},e._l(e.encrypt_option,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-checkbox",{model:{value:e.apiData.verify,callback:function(t){e.$set(e.apiData,"verify",t)},expression:"apiData.verify"}},[e._v("跳过SSL校验")]),e._v(" "),i("el-tabs",{staticStyle:{"margin-top":"18px"},attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"请求头",name:"first"}},[i("el-alert",{attrs:{title:'格式如：{"Content-Type": "application/json;charset=UTF-8", "Authorization": "xxxxxxxxxxxxx"}',type:"info",closable:!1}}),e._v(" "),i("vue-json-editor",{attrs:{"show-btns":!1,mode:"code",lang:"zh"},model:{value:e.apiData.request_header,callback:function(t){e.$set(e.apiData,"request_header",t)},expression:"apiData.request_header"}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:"请求体",name:"second",id:"body",disabled:0!==this.apiData.request_file.length}},[i("el-alert",{attrs:{title:'格式如：{"channel":"whatsapp","to":"85259842833","whatsapp":{"type":"text","text":{"body":"测试"},"preview_url":false}}',type:"info",closable:!1}}),e._v(" "),i("vue-json-editor",{attrs:{"show-btns":!1,mode:"code",lang:"zh"},model:{value:e.apiData.request_body,callback:function(t){e.$set(e.apiData,"request_body",t)},expression:"apiData.request_body"}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:"文件上传",name:"third",id:"upload",disabled:"{}"!==JSON.stringify(this.apiData.request_body)}},[i("div",{staticStyle:{width:"360px"}},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"/apiTest/uploadFile",headers:e.uploadToken,data:e.uploadData,"with-credentials":!0,"on-remove":e.removeFile,"on-preview":e.handlePreview,"on-success":e.uploadSuccess,"before-remove":e.beforeRemove,"file-list":e.apiData.request_file}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("現在只支持请求一個文件，多個文件的情況等遇到了再去擴展")])],1)],1)]),e._v(" "),i("el-tab-pane",{attrs:{label:"断言",name:"fourth"}},[i("el-checkbox",{model:{value:e.apiData.assert,callback:function(t){e.$set(e.apiData,"assert",t)},expression:"apiData.assert"}},[e._v("是否需要断言")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.apiData.assert,expression:"apiData.assert"}]},[i("el-alert",{attrs:{title:'格式如：[{"pattern":"in", "key":"key1[0].key2", "content":"success1"},{"pattern":"equal","key":"key1", "content":"success2"},{"pattern":"not in","key":"", "content":"success3"},{"pattern":"not equal","key":"", "content":"success4"}]',type:"info",closable:!1}}),e._v(" "),i("vue-json-editor",{attrs:{"show-btns":!1,mode:"code",lang:"zh"},model:{value:e.apiData.assert_content,callback:function(t){e.$set(e.apiData,"assert_content",t)},expression:"apiData.assert_content"}})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"提取参数",name:"fifth"}},[i("el-checkbox",{model:{value:e.apiData.postProcessor,callback:function(t){e.$set(e.apiData,"postProcessor",t)},expression:"apiData.postProcessor"}},[e._v("后置处理")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.apiData.postProcessor,expression:"apiData.postProcessor"}]},[i("el-alert",{attrs:{title:'输入匹配规则，如{"name1":"key1[0].key2","name2":"key3"}，可获取响应头和响应体的数据存入环境变量，现仅适用于响应体是json格式的情况',type:"info",closable:!1}}),e._v(" "),i("vue-json-editor",{attrs:{"show-btns":!1,mode:"code",lang:"zh"},model:{value:e.apiData.post_processor_content,callback:function(t){e.$set(e.apiData,"post_processor_content",t)},expression:"apiData.post_processor_content"}})],1)],1)],1)],1),e._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[i("el-card",{staticClass:"box-card;"},[i("el-scrollbar",{staticStyle:{height:"500px","overflow-wrap":"break-word"}},e._l(e.debugLog,function(t){return i("div",[i("div","string"==typeof t?[t.includes("ERROR")?i("div",[i("span",{staticStyle:{color:"red"}},[e._v(e._s(t))])]):i("div",[i("span",[e._v(e._s(t))])])]:[i("span",[i("JsonView",{attrs:{json:t}})],1)])])}),0)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"函数助手",visible:e.funcVariableData,width:"55%"},on:{"update:visible":function(t){e.funcVariableData=t}}},[i("el-row",[i("div",[e._v("randomNum(x, y):生成x到y之间的随机数，示例 ${randomNum(0, 10)}")])]),e._v(" "),i("el-row",[i("div",[e._v("randomValue(x):生成长度为x的随机字符串，示例 ${randomValue(10)}")])]),e._v(" "),i("el-row",[i("div",[e._v("splitStr(string, pun, index):根据标点符号截取字符串，并返回对应下标的字符串，示例 ${splitStr('1061221,6183655', ',' , 0)}")])])],1)],1)},staticRenderFns:[]};var Ge=i("VU/8")(Je,He,!1,function(e){i("cKNp")},"data-v-27ae2563",null).exports,Ke={data:function(){return{nshow:!0,fshow:!1,loading:!1,submit_loading:!1,addFormVisible1:!1,addFormVisible2:!1,title:"添加",addForm:{token:localStorage.getItem("logintoken")},projects:"",formInline:{page:1,limit:10,varLable:"",varName:"",projectName:"",title:"",token:localStorage.getItem("logintoken")},a_formInline:{projectName:"",projectEnvironment_id:"",projectEnvironment_name:"",title:"",summary:"",moduleSelection:[],token:localStorage.getItem("logintoken")},rules:{title:[{required:!0,message:"请输入任务标题",trigger:"blur"}]},pageparm:{currentPage:1,pageSize:10,oldPageSize:10,total:10},taskData:[],listData:[],options:"",value:"",defaultProps:{children:"children",label:"module_name"},isSelectAll:!1}},components:{Pagination:K},created:function(){this.getdata(this.formInline),this.loadAllProject()},methods:{getdata:function(e){var t,i=this;this.loading=!0,this.pageparm.currentPage=this.formInline.page,this.pageparm.pageSize=this.formInline.limit,e={currentPage:this.pageparm.currentPage,pageSize:this.pageparm.pageSize,projectName:this.formInline.projectName,title:this.formInline.title},(t=e,F("/apiTest/apiTestTaskList",t)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.taskData=e.data,i.pageparm.total=e.count)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("菜单加载失败，请稍后再试！")})},getModuledata:function(e){var t=this;this.loading=!0,e={projectEnvironment_id:this.a_formInline.projectEnvironment_id},ie(e).then(function(e){t.loading=!1,!1===e.success?t.$message({type:"info",message:e.msg}):(t.originData=e.data,t.originData.length>0?t.listData=E(t.originData):t.listData=[])}).catch(function(e){t.loading=!1,console.log(e),t.$message.error("菜单加载失败，请稍后再试！")})},handleSelect1:function(e){this.loadAllProjectEnvironment(e)},loadAllProjectEnvironment:function(e){var t=this,i={name:e.value};ae(i).then(function(e){t.options=e})},querySearchAsync1:function(e,t){var i=this.projects;t(e?i.filter(this.createStateFilter(e)):i)},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},loadAllProject:function(){var e=this;te().then(function(t){e.projects=t})},callFather:function(e){this.pageparm.pageSize!==e.pageSize?(this.formInline.page=1,this.formInline.limit=e.pageSize,this.getdata(this.formInline)):(this.formInline.page=e.currentPage,this.formInline.limit=e.pageSize,this.getdata(this.formInline))},search:function(){this.formInline.page=1,this.getdata(this.formInline)},a_search:function(){this.getModuledata(this.a_formInline)},handleChange:function(e){this.a_formInline.projectEnvironment_id=e;var t;t=this.options.find(function(t){return t.value===e}),this.a_formInline.projectEnvironment_name=t.label,this.getModuledata(this.a_formInline)},handleAdd:function(e,t){this.addFormVisible1=!0,this.title="添加任务"},closeDialog1:function(){this.addFormVisible1=!1},closeDialog2:function(){this.addFormVisible2=!1},submit1:function(){0===this.a_formInline.moduleSelection.length?this.$message({type:"info",message:"未选择模块"}):this.addFormVisible2=!0},submit2:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var i;t.submit_loading=!0,(i=t.a_formInline,v("/apiTest/addApiTestTask",i)).then(function(e){t.addFormVisible1=!1,t.addFormVisible2=!1,t.submit_loading=!1,e.success?(t.$message({type:"success",message:e.msg}),t.getdata(t.formInline)):t.$message({type:"info",message:e.msg})}).catch(function(e){t.addFormVisible1=!1,t.addFormVisible2=!1,t.loading=!1,t.$message.error("任务提交失败，请稍后再试！")}),console.log(t.a_formInline)})},apiTestTaskDelete:function(e,t){var i=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e,a={id:t.id};(e=a,w("/apiTest/deleteApiTestTask",e)).then(function(e){e.success?(i.$message({type:"success",message:e.msg}),i.getdata(i.formInline)):i.$message({type:"info",message:e.msg})}).catch(function(e){console.log(e),i.loading=!1,i.$message.error("任务删除失败，请稍后再试！")})}).catch(function(e){console.log(e)})},toTestReport:function(e){this.$router.push({path:"/apiTest/apiTestTask/apiTestReport",query:{task_id:e.id}})},filterNode:function(e,t){return!e||-1!==t.module_name.indexOf(e)},handleCheckChange:function(){this.a_formInline.moduleSelection=this.$refs.tree.getCheckedNodes()},sortBy:function(e){return function(t,i){return t[e]-i[e]}},selectAll:function(){this.isSelectAll?(this.$refs.tree.setCheckedNodes(this.listData),this.a_formInline.moduleSelection=this.$refs.tree.getCheckedNodes()):(this.$refs.tree.setCheckedNodes([]),this.a_formInline.moduleSelection=this.$refs.tree.getCheckedNodes())}}},Ye={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{loading:e.submit_loading,"element-loading-text":"提交中"}},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("测试任务")])],1),e._v(" "),i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[i("el-form-item",{attrs:{label:"所属项目："}},[i("el-autocomplete",{attrs:{size:"small",placeholder:"输入项目名称","fetch-suggestions":e.querySearchAsync1},on:{select:e.handleSelect1},model:{value:e.formInline.projectName,callback:function(t){e.$set(e.formInline,"projectName",t)},expression:"formInline.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"标题："}},[i("el-input",{attrs:{size:"small",placeholder:"输入标题"},model:{value:e.formInline.title,callback:function(t){e.$set(e.formInline,"title",t)},expression:"formInline.title"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleAdd()}}},[e._v("添加任务")])],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.taskData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"title",label:"任务标题",width:"300"}}),e._v(" "),e._e(),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"projectName",label:"所属项目",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"summary",label:"任务描述",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"create_time",label:"创建时间",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"status",label:"状态",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?i("p",[e._v("待执行")]):e._e(),e._v(" "),1===t.row.status?i("p",[e._v("执行中")]):e._e(),e._v(" "),2===t.row.status?i("p",[e._v("执行完成")]):e._e(),e._v(" "),3===t.row.status?i("p",[e._v("执行失败")]):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作","min-width":"300",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.toTestReport(t.row)}}},[e._v("测试报告")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.apiTestTaskDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}}),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.addFormVisible1,width:"40%"},on:{"update:visible":function(t){e.addFormVisible1=t},click:e.closeDialog1}},[i("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.a_formInline}},[i("el-form-item",{attrs:{label:"项目名称："}},[i("el-autocomplete",{attrs:{size:"small",placeholder:"输入项目名称","fetch-suggestions":e.querySearchAsync1},on:{select:e.handleSelect1},model:{value:e.a_formInline.projectName,callback:function(t){e.$set(e.a_formInline,"projectName",t)},expression:"a_formInline.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"项目环境名称："}},[i("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.a_search}},[e._v("搜索")])],1)],1),e._v(" "),i("el-scrollbar",{staticStyle:{height:"700px","overflow-wrap":"break-word"},attrs:{"wrap-style":"overflow-x:auto;"}},[i("el-input",{attrs:{size:"small",placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-checkbox",{on:{change:e.selectAll},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}},[e._v("全选/全不选")]),e._v(" "),i("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.listData,props:e.defaultProps,"node-key":"id","default-expand-all":"","highlight-current":!0,"filter-node-method":e.filterNode,"show-checkbox":""},on:{check:e.handleCheckChange}})],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog1}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary"},on:{click:e.submit1}},[e._v("确定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.addFormVisible2,width:"30%"},on:{"update:visible":function(t){e.addFormVisible2=t},click:e.closeDialog2}},[i("el-form",{ref:"a_formInline",attrs:{"label-width":"120px",model:e.a_formInline,rules:e.rules}},[i("el-form-item",{attrs:{label:"任务标题",prop:"title"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入任务标题"},model:{value:e.a_formInline.title,callback:function(t){e.$set(e.a_formInline,"title",t)},expression:"a_formInline.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"任务描述",prop:"summary"}},[i("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入任务描述"},model:{value:e.a_formInline.summary,callback:function(t){e.$set(e.a_formInline,"summary",t)},expression:"a_formInline.summary"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.closeDialog2}},[e._v("取消")]),e._v(" "),i("el-button",{staticClass:"title",attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submit2("a_formInline")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var We=i("VU/8")(Ke,Ye,!1,function(e){i("wZB2")},"data-v-991f4e9c",null).exports,Ze={components:{JsonView:Pe},data:function(){return{loading:!0,task_id:"",listData:[],all_count:"",pass_count:"",fail_count:"",report_title:"",logDialogVisible:!1,title:"日志",debugLog:[]}},created:function(){this.getParams(),this.getdata()},methods:{getParams:function(){this.task_id=this.$route.query.task_id},getdata:function(e){var t,i=this;e={task_id:this.task_id},(t=e,F("/apiTest/apiTestReport",t)).then(function(e){i.loading=!1,!1===e.success?i.$message({type:"info",message:e.msg}):(i.listData=e.data,i.all_count=e.all_count,i.pass_count=e.pass_count,i.fail_count=e.fail_count,i.report_title=e.title,i.loading=!1)}).catch(function(e){i.loading=!1,console.log(e),i.$message.error("菜单加载失败，请稍后再试！")})},checkLog:function(e){this.debugLog=e.output_log,this.logDialogVisible=!0},jsonView:function(e){var t=e.match(/\{.*\}/);try{return JSON.parse(t[0])}catch(t){return console.log(t),e}},tableRowStyle1:function(e){var t=e.row,i=(e.rowIndex,{});return 1===t.status?i.background="#a8c2a6":i.background="#f5c1bf",i},tableRowStyle2:function(e){var t=e.row,i=(e.rowIndex,{});return t.fail_count>0&&(i.background="#f5c1bf"),i}}},Qe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中"}},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",{attrs:{to:{path:"/apiTest/apiTestTask"}}},[e._v("测试任务")]),e._v(" "),i("el-breadcrumb-item",[e._v("测试用例")])],1),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("div",[i("div",{staticStyle:{"font-size":"40px","font-family":"Avenir,Helvetica,Arial,sans-serif"}},[e._v(e._s(e.report_title))]),e._v(" "),i("div",{staticStyle:{"font-family":"Avenir,Helvetica,Arial,sans-serif"}},[e._v("测试结果：总共 "+e._s(e.all_count)+"，通过"+e._s(e.pass_count)+"，失败"+e._s(e.fail_count)+"，通过率= "+e._s(parseFloat(e.pass_count/e.all_count*100).toFixed(2))+" %")])]),e._v(" "),i("div",{staticStyle:{margin:"20px"}}),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,border:"","element-loading-text":"拼命加载中","header-cell-style":{background:"#eef1f6",color:"#606266"},"row-style":e.tableRowStyle2}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-table",{staticStyle:{width:"calc(100% - 47px)"},attrs:{data:t.row.testcase,size:"small",border:"","header-cell-style":{background:"#eef1f6"},"row-style":e.tableRowStyle1,"show-header":!1}},[i("el-table-column",{attrs:{sortable:"",prop:"testcase_name",label:"用例名称"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?i("el-tag",{attrs:{type:"success"}},[e._v("通过")]):e._e(),e._v(" "),2===t.row.status?i("el-tag",{attrs:{type:"danger"}},[e._v("失败")]):e._e()]}}],null,!0)}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.checkLog(t.row)}}},[e._v("日志")])]}}],null,!0)})],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"api_name",label:"api名称"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"module_name",label:"模块套件"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"all_count",label:"总计",width:"250"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"pass_count",label:"通过",width:"250"}}),e._v(" "),i("el-table-column",{attrs:{sortable:"",prop:"fail_count",label:"失败",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.fail_count>"0"?i("div",[i("div",{staticStyle:{color:"#EA1B29"}},[e._v(e._s(t.row.fail_count))])]):i("div",[i("div",[e._v(e._s(t.row.fail_count))])])]}}])})],1),e._v(" "),i("el-dialog",{attrs:{title:e.title,visible:e.logDialogVisible,width:"65%"},on:{"update:visible":function(t){e.logDialogVisible=t}}},[i("el-card",{staticClass:"box-card;"},[i("el-scrollbar",{staticStyle:{height:"500px","overflow-wrap":"break-word"}},e._l(e.debugLog,function(t){return i("div",[i("div","string"==typeof t?[t.includes("INFO")?i("div",[i("span",[e._v(e._s(t))])]):t.includes("ERROR")?i("div",[i("span",{staticStyle:{color:"red"}},[e._v(e._s(t))])]):e._e()]:[i("span",[i("JsonView",{attrs:{json:t}})],1)])])}),0)],1)],1)],1)},staticRenderFns:[]};var Xe=i("VU/8")(Ze,Qe,!1,function(e){i("cR+d")},"data-v-c35125d0",null).exports,et={data:function(){return{formInline:{varLable:"",varName:"",projectName:"",projectEnvironment_id:"",projectEnvironment_name:"",url:""},rules:{projectName:[{required:!0,message:"请输入项目名称",trigger:"blur"}],projectEnvironment_name:[{required:!0,message:"请输入环境名称",trigger:"blur"}],url:[{required:!0,message:"请输入url",trigger:"blur"}]},options:"",value:""}},created:function(){this.loadAllProject()},methods:{loadAllProject:function(){var e=this;te().then(function(t){e.projects=t})},querySearchAsync:function(e,t){var i=this.projects;t(e?i.filter(this.createStateFilter(e)):i)},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){this.loadAllProjectEnvironment(e)},loadAllProjectEnvironment:function(e){var t=this,i={name:e.value};ae(i).then(function(e){t.options=e})},handleChange:function(e){this.formInline.projectEnvironment_id=e;var t;void 0!==(t=this.options.find(function(t){return t.value===e}))&&(this.formInline.projectEnvironment_name=t.label)},importFromSwagger:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var i,a={id:t.formInline.projectEnvironment_id,url:t.formInline.url};(i=a,F("/apiTest/importFromSwagger",i)).then(function(e){t.loading=!1,!1===e.success?t.$message({type:"info",message:e.msg}):t.$message({type:"success",message:e.msg})}).catch(function(e){t.loading=!1,console.log(e),t.$message.error("导入失败，请稍后再试！")})})}}},tt={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",[e._v("接口导入")])],1),e._v(" "),i("div",{staticStyle:{"margin-top":"20px"}}),e._v(" "),i("el-card",[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("swagger导入")])]),e._v(" "),i("el-form",{ref:"formInline",staticClass:"user-search",attrs:{inline:!0,model:e.formInline,rules:e.rules}},[i("el-form-item",{attrs:{label:"项目名称：",prop:"projectName"}},[i("el-autocomplete",{attrs:{size:"small",placeholder:"输入项目名称","fetch-suggestions":e.querySearchAsync},on:{select:e.handleSelect,input:e.inputChange},model:{value:e.formInline.projectName,callback:function(t){e.$set(e.formInline,"projectName",t)},expression:"formInline.projectName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"项目环境名称：",prop:"projectEnvironment_name"}},[i("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.formInline.projectEnvironment_name,callback:function(t){e.$set(e.formInline,"projectEnvironment_name",t)},expression:"formInline.projectEnvironment_name"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"url：",prop:"url"}},[i("el-input",{attrs:{size:"small",placeholder:"输入swagger url"},model:{value:e.formInline.url,callback:function(t){e.$set(e.formInline,"url",t)},expression:"formInline.url"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.importFromSwagger("formInline")}}},[e._v("导入")])],1)],1)],1)],1)},staticRenderFns:[]};var it=i("VU/8")(et,tt,!1,function(e){i("kii8")},"data-v-4bdf3c45",null).exports,at=p.a.prototype.push;p.a.prototype.push=function(e,t,i){return t||i?at.call(this,e,t,i):at.call(this,e).catch(function(e){})},l.default.use(p.a);var ot=new p.a({routes:[{path:"/",name:"",component:R,hidden:!0,meta:{requireAuth:!1,keepAlive:!1}},{path:"/login",name:"登录",component:R,hidden:!0,meta:{requireAuth:!1,keepAlive:!1}},{path:"/index",name:"首页",component:H,iconCls:"el-icon-tickets",children:[{path:"/system/user",name:"用户管理",component:Z,meta:{requireAuth:!0,keepAlive:!1}},{path:"/system/modifyPwd",name:"修改密码",component:ee,meta:{requireAuth:!0,keepAlive:!1}},{path:"/project/project",name:"项目管理",component:re,meta:{requireAuth:!0,keepAlive:!1}},{path:"/project/projectEnvironment",name:"项目环境配置",component:ce,meta:{requireAuth:!0,keepAlive:!1}},{path:"/project/projectModule",name:"项目环境配置",component:ue,meta:{requireAuth:!0,keepAlive:!1}},{path:"/apiTest/apiModule",name:"功能模块管理",component:$e,meta:{requireAuth:!0,keepAlive:!1}},{path:"/apiTest/apiManagement",name:"接口管理",component:ze,meta:{requireAuth:!0,keepAlive:!0}},{path:"/apiTest/apiManagement/apiTestCase",name:"测试用例管理",component:Te,meta:{requireAuth:!0,keepAlive:!1}},{path:"/apiTest/apiManagement/apiTestCase/workbench",name:"工作台",component:Ge,meta:{requireAuth:!0,keepAlive:!1}},{path:"/apiTest/apiTestTask",name:"测试任务",component:We,meta:{requireAuth:!0,keepAlive:!1}},{path:"/apiTest/apiTestTask/apiTestReport",name:"测试报告",component:Xe,meta:{requireAuth:!0,keepAlive:!1}},{path:"/apiTest/apiImport",name:"接口导入",component:it,meta:{requireAuth:!0,keepAlive:!1}},{path:"/submittedTests/submittedTestsManagement",name:"提测申请管理",component:he,meta:{requireAuth:!0,keepAlive:!1}},{path:"/submittedTests/smokeTestingRankReport",name:"完成提测冒烟测试排名",component:ye,meta:{requireAuth:!0,keepAlive:!1}},{path:"/submittedTests/smokeTestingFailReasonAnalysisReport",name:"项目非一次性通过原因分析",component:xe,meta:{requireAuth:!0,keepAlive:!1}}]}]}),st=i("NYxO");l.default.use(st.a);var rt=new st.a.Store({state:{user:!1},mutations:{login:function(e,t){e.user=t,localStorage.setItem("userInfo",t)},logout:function(e,t){e.user="",localStorage.setItem("userInfo","")}}});i("7xIN");m.a.Dialog.props.closeOnClickModal.default=!1,l.default.prototype.$echarts=ve.a,l.default.prototype.$axios=g.a,l.default.config.productionTip=!1,l.default.use(m.a),n()(a).forEach(function(e){l.default.filter(e,a[e])}),g.a.interceptors.response.use(function(e){return e},function(e){return 401===e.response.status?c.MessageBox.alert("登录已过期，请先登录","提示",{confirmButtonText:"确定",callback:function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("logintoken"),localStorage.removeItem("userdata"),ot.replace({path:"/login"})}}):403===e.response.status&&c.MessageBox.alert("用户无权限","提示",{confirmButtonText:"确定",callback:function(e){ot.replace({path:"/"+JSON.parse(localStorage.getItem("menu"))[0].menus[0].url})}}),s.a.reject(e)}),ot.beforeEach(function(e,t,i){0!=e.matched.length?e.meta.requireAuth?Boolean(localStorage.getItem("userInfo"))?i():(console.log(e.fullPath),i({path:"/login",query:{redirect:e.fullPath}})):Boolean(localStorage.getItem("userInfo"))?"/"===e.path?i({path:"/"+JSON.parse(localStorage.getItem("menu"))[0].menus[0].url}):"/login"===e.path?i({path:"/"+JSON.parse(localStorage.getItem("menu"))[0].menus[0].url}):i():i():(console.log(e),i({path:"/login",query:{redirect:e.fullPath}}))}),new l.default({el:"#app",router:ot,store:rt,components:{App:u},template:"<App/>",data:{Bus:new l.default}})},NHqR:function(e,t){},"RW+O":function(e,t){},ZYz0:function(e,t){},cKNp:function(e,t){},"cR+d":function(e,t){},cVDj:function(e,t){},dEYZ:function(e,t){},"dLd/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGUUlEQVRoQ+2YdYildRSGn2Pr2t0tdreo2CgqdmN3r93dXdiN3YGCYGC3otiKun/YsSrmquuRZzmz3B13nDsz986O4IHLwHzf/e55z+8973nPF/zHI/7j+fM/gP46wcycGVgPuCEifs7MsSNi+IA/gcycAzgCWAlYPSI+y8z5AQG8OWABZOa8wFHA1sCXwIoR8XElvxpwe0R8PeAAZObCwDHAJsBYwLfAyhHxdmbOA6wNDIqI06XvgAGQmUsBxwLrN/TVj8BqEfFyZs4JrANMWPQ5Y0AAqMRPAdbqJAi/We2IeCIzZwQ2M3FgEuDziLhijALIzBWLKp0TN68/gQ0j4sHMnArYGZgASGAc4JWIuH+MAMjMNYGj5XUXEvwXsE1E3JqZVnvfovqkwK/AuMB9EfFivwLITDXc5lzmX2aHye8VEZdnphU/tO6V9z8VfSYDDnYWtB1AZqoiG1fFF21i6O1RyUuTM6viJj4t8BkwKzAsIg7ueFZbVMgpCWwFHAk4dJqJI5TGAn0+8FXx3n6QPsbvwDcRcXZbAGSm/NweOByYq5ms654zIsLvkJnnAu8BU5RkSqVhpUBTVgNf1VIAxdddirOz9CBxb70sIvas5E8FhgBOYRP/AZgY+AWYHJD3T0XEvS0BkJmDgD1sKmD6Hibu7beU4mRmegJyf76ij9y3qccrEH8AUwOnRcS7fQJQiQ8GDgDU6d7EA6X1wzPTflFejWcBp66Vnw74tE5j/JLQHSJCYCOiR02cmUrYPn1M3N99vKbssJLXvYCnge+BdYGhTlsbtkCYp4D+ighPfGQ0BSAzbR6r7VARRF/ipfI3P2XmKsCFwAmVuBR6AZgBWAT4pGhjD+iLtNCCbQ5AZnqE8tsmk+99jbfKWQ7NzKWB26qHjgeuAxQAB937wDvAbNW8DrLhgouIy7oFUNvPYYDKohq0Ij4qT/95Zi4IPATsWAPLBtZd2hfqv1ba+9V9lUgA5nFNRDzfJYCG7Uctt/tbFU7RjoXEBn0CUAQ0aXfU30uBXYEvgCeBhYAlCpAgbOLdIsI+GZVCmTkRcBGwU6sybniODelC8lbZ4qeAK+u6kqnuq/FaDQfUQYBGzWEmWGlkr04TEct1zm9kE2emOr57fWyiVkTjQqLcWnmTs+p6HRXtcuA8YNUCckNR1+n7clVe4Zg1ItzGRol/qFDZgY1KcfTsvY3GhURb/GjJpGr2cG1etwP7F4gDAfvO/znEpJe78Kt1AtFhN7pt4o4baj9VhbaoSjQLpnEhURpNWClW4x8BtAwrNDxM3q9RQPy9+2qp2bRc6AfAM+4I3Z7A6DLMTEe4iqScamn/LRoXEu30jTVlbUjpokQ+U7TZErgeOK4+Umn2Wh8vqd9yY3OoabVHWoiOBJoaZA0nok126Za7q3eBYoSn91pmqiwqmvdu4AAriXy9CqLdPgdwJz6xZo4gVCPV5jFggTq56RotRK8ANCZc720EYoJy3Bjh6St5/x4CbF4mzQG0eJ3Cd4B6LjU9AZVH/m9Xz3muliALYD9sHBGLja5gPTqBLuhl8g6k8SPirErewXRa2Q+VR8po2FS3kwEthEnaEzatk3gHwF3g2vqem5zKeI9LUURIt39EnwF0fmJmarasnDSyqm8AdwNXV9L2ksmoUq8B+xU4Oa+ECs5rApdiDwLvdpxsr5q4WempdVDDN3fRwsVDATApKaM90POoJkuWdbaBHVBedzpLvQuqH+wdh93giNB69MsJ+D7n3lIu5dKPp7J3OUxtwk2ViZx3ODmdtwXurAb2Za6AlE+be6aIUGr7BYAvn1QQK31BRAzJTLVdKfTdpnbYyjqRTdQKdxhGLYX0MdkNAZf7wyOiy22vHT0ggMZweRGMw8lhNlNVXSBK5IeAk/+uklZfGUpDVUuJXWp0FqLPMtpVX7jcdnHNU7EnPJXXMlMg+p/dqslPKqpdXK/VfRfqadjA9sZooz9OoPMPexLutSNtcWY64HSjyzbQyWHnKR3TeYlpfGB/A7D6XVazXqHrWm8utyqdlu+8xIwpADtGhL3QbdR+4kLjfrBMREilMUYht6lV5H23mffihnZTSB47F9y62hLtBKAVMPlRdthWo2gXgOsjQnPW9mgHACWyqWZtBbqWA2hFUj15xv8AelKtdtz7N3tXKk830y/qAAAAAElFTkSuQmCC"},gQKk:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA/0lEQVRYR+2W6w2CQBCEZyqRDrQEO9ASLAE7sAO1A+kAK1A7wA6wA61gzSVH4uPgbgMHJrK/l5kv++KIgYMD+2ME+KqAiKQAFpFacyS5e9V2ASwBzCIBFCTzRoBIxrWy4xCOFWhVARFJAEwUg3sjWfrW0Kxg8rkuLhN7M7YKgIzkygcwB3ACcAawJlkoDNSprkNUAVRiBwtyV6sHfBACYGSM+YbkPkBTlRIK8LAAb3dc5VSTHAKQAUhJ9t6CizXufQiHXUNNX+0hMscoNErvIQpV6iqv1SnuAmIE+L0KiIh5lE676K9D4+p9lNpfrIGIEbn3WR7DtUnz92bg7yrwBOSXVCGtUZf9AAAAAElFTkSuQmCC"},"h/rD":function(e,t){},kii8:function(e,t){},rWRm:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA80lEQVRYR+1W2xVBMRCcqYAO6IASqIASdEAHdEALOrg6UAIdUMk4e04+4rivuJL4yH4nO7OzTyKzMTM+CoEPBSTtAKwipeZC8uT7riOwBjCPROBGsmolEAm40W0pwqLAIAUkTQFMAgr3SfLxVRdIWgB4+A7czDgGEDiT3AQRcFEaiM2HJclrAGDn08YUSBoD2AI4eF7SEJBkMlnURsK3pARsZo+yEDBQlwJbTPvkKfCjdkVoatiGTJOCutLN1oZtfeTUsWHU197miH0aNAn7ora9KwSKAk1H6ewXBVbj4955lLoVa5svhlWdZ3kM1NKGf63ACzUdUCHpu3IjAAAAAElFTkSuQmCC"},tvR6:function(e,t){},uGPS:function(e,t){},vHAn:function(e,t){},vPiW:function(e,t){},vTwR:function(e,t){},wZB2:function(e,t){},xgXz:function(e,t){},zmAB:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7a7f358aba92cbb6b036.js.map